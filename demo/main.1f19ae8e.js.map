{"version":3,"sources":["../../src/Config.js","../../src/materials/Texture.js","../../src/materials/Material.js","../../src/resources/OBJFile.js","../../src/Resources.js","../../src/Logger.js","../../src/Loader.js","../../src/materials/TestMaterial.js","../../node_modules/gl-matrix/esm/common.js","../../node_modules/gl-matrix/esm/mat2.js","../../node_modules/gl-matrix/esm/mat2d.js","../../node_modules/gl-matrix/esm/mat3.js","../../node_modules/gl-matrix/esm/mat4.js","../../node_modules/gl-matrix/esm/vec3.js","../../node_modules/gl-matrix/esm/vec4.js","../../node_modules/gl-matrix/esm/quat.js","../../node_modules/gl-matrix/esm/quat2.js","../../node_modules/gl-matrix/esm/vec2.js","../../node_modules/gl-matrix/esm/index.js","../../src/Math.js","../../src/materials/DefaultMaterial.js","../../src/scene/Geometry.js","../../src/Scheduler.js","../../src/camera/Camera.js","../../src/camera/FirstPersonCamera.js","../../src/controlers/EntityControler.js","../../src/controlers/FirstPersonControler.js","../../src/geo/Plane.js","../../src/shader/GLShader.js","../../src/renderer/GL.js","../../src/shader/FinalShader.js","../../src/shader/ColorShader.js","../../src/shader/LightShader.js","../../src/shader/ReflectionShader.js","../../src/shader/PrimitiveShader.js","../../src/shader/MattShader.js","../../src/renderer/Renderer.js","../../src/materials/PrimitiveMaterial.js","../../src/geo/Guide.js","../../src/geo/Grid.js","../../src/light/DirectionalLight.js","../../src/geo/Cursor.js","../../src/scene/Scene.js","../../src/controlers/CursorController.js","../../Viewport.js","main.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Config","name","fallback","define","load","value","save","defaultValue","ConfigParameter","gloalconfig","localStorage","getItem","data","JSON","parse","key","setItem","stringify","default","Texture","img","image","width","height","animated","localName","Material","texture","reflectionMap","displacementMap","diffuseColor","transparency","reflection","textureScale","receiveShadows","castShadows","scaleUniform","constructor","OBJFile","strData","lines","split","objData","line","prefix","coords","slice","vertecies","push","uvs","normals","face","c","map","i","parseInt","faces","global","initLoaded","resourceTypes","TEXT","IMAGE","VIDEO","SHADER","GEOMETRY","queue","Set","Map","Resources","obj","startLoad","add","path","get","loads","res","loading","_fetch","then","dataObj","resource","set","Promise","all","clear","finished","type","t","Types","ending","match","fetch","json","catch","err","console","error","resolve","reject","Image","onload","src","vid","document","createElement","oncanplay","loop","play","text","parseFile","size","loggerListeners","Logger","f","listeners","msg","listener","style","attr","dispatch","out","logger","Loader","objFile","fface","forEach","vertex","uv","normal","length","mat","Object","assign","texImage","reflectionImage","reflectionTexture","displacementImage","require","TestMaterial","EPSILON","ARRAY_TYPE","Float32Array","Array","RANDOM","Math","random","setMatrixArrayType","degree","PI","toRadian","a","equals","b","abs","max","create","glMatrix","clone","copy","identity","fromValues","m00","m01","m10","m11","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","s","sin","cos","scale","v","v0","v1","fromRotation","fromScaling","str","frob","sqrt","pow","LDU","L","D","U","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","mul","sub","d","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","x","y","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","len","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","getScaling","getRotation","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspective","fovy","aspect","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","target","a9","a14","a15","b9","b13","b14","b15","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","r","zScale","transformMat4","m","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","p","angle","tempA","tempB","cosine","acos","zero","div","dist","sqrDist","sqrLen","vec","stride","offset","count","fn","arg","l","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","calculateW","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fTrace","fRoot","j","k","fromEuler","halfToRad","cx","cy","cz","vec4","rotationTo","tmpvec3","vec3","xUnitVec3","yUnitVec3","sqlerp","temp1","temp2","setAxes","matr","mat3","view","dq","w1","fromRotationTranslationValues","outer","quat","mat4","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","transformMat2","transformMat2d","p0","p1","sinC","cosC","len1","len2","Vec","toFixed","val","vec1","vec2","n1","arguments","Raycast","camera","camPos","worldPosition","sensor","origin","project","projMatrix","viewMatrix","projInverse","viewInverse","plane","distnace","pos","position","Transform","rotation","DefaultMaterial","DEFAULT_MATERIAL","Geometry","_buffer","createBuffer","vertArray","args","instanced","instances","onCreate","material","hidden","guide","drawmode","id","VertexBuffer","indecies","attributes","attribute","elements","indexArray","Uint16Array","Scheduler","timer","callback","accumulator","deltaTime","task","Task","index","indexOf","splice","done","execute","removeTask","ms","DEFAULT_CAMERA_MATERIAL","Camera","farplane","nearplane","projViewMatrix","update","self","transform","dir","sign","ar","FirstPersonCamera","EntityControler","entity","viewport","initKeyboard","initMouse","locked","e","mbutton","button","buttons","which","FirstPersonControler","speed","checkKey","move","strafe","down","entityUpdate","bind","checkControls","exitPointerLock","isMouseButton","requestPointerLock","pointerLockElement","movementX","sensivity","movementY","addEventListener","keyMap","window","delete","has","Plane","drawmoed","GLShader","gl","uniforms","opt","_uniform","integer","uniform1i","isArray","uniform3fv","uniform1f","_vertShader","_fragShader","_uniforms","_attributes","vertexSource","fragmentSource","GLContext","constant","enable","disable","canvas","DEPTH_TEST","CULL_FACE","BLEND","getContext","setOptions","options","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","ctxtOpts","cullFace","BACK","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","shader","useProgram","program","setUniforms","currentShader","uniformStr","slot","activeTexture","bindTexture","TEXTURE_2D","framebuffers","bindFramebuffer","FRAMEBUFFER","bufferTextures","source","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","getUniforms","getAttributes","_initialized","shaders","numAttributes","getProgramParameter","ACTIVE_ATTRIBUTES","getActiveAttrib","getAttribLocation","numUniforms","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","VAO","bindVertexArray","createVertexArray","fbo","createFramebuffer","colorbuffer","renderTraget","createBufferTexture","useTexture","framebufferTexture2D","COLOR_ATTACHMENT0","depthTexture","createDepthTexture","DEPTH_ATTACHMENT","depthbuffer","vertShader","fragShader","attachShader","linkProgram","LINK_STATUS","getProgramInfoLog","h","createTexture","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","texImage2D","DEPTH_COMPONENT24","DEPTH_COMPONENT","UNSIGNED_INT","LINEAR","RGBA","UNSIGNED_BYTE","LUMINANCE","Uint8Array","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","bufferInfo","newbuffer","indexBuffer","vertexBuffer","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","STATIC_DRAW","ARRAY_BUFFER","bpe","BYTES_PER_ELEMENT","lastAttrSize","bufferAttributes","vertexAttribPointer","FLOAT","enableVertexAttribArray","FinalShader","ColorShader","LightShader","uAmbientColor","shadowcolor","ReflectionShader","PickingShader","MattShader","Renderer","scene","activeCamera","renderTarget","setResolution","defaults","resolution","shadowMapSize","renderPasses","RenderPass","aspectratio","PrimitiveShader","compShader","prepareShader","readings","log","frameTime","performance","now","objects","geo","updateTexture","gltexture","renderMultiPasses","compositePasses","lastFrameTime","passes","pass","lightS","lightSources","cullDefault","isEnabled","use","drawScene","getBufferTexture","uniformMatrix4fv","lightProjViewMatrix","FRONT","geoid","curosr","drawMesh","read","setValue","readPixels","clearFramebuffer","buffer","pixels","clearColor","useShader","fog","fogEnabled","drawGeo","colorTexture","prepareTexture","textureized","selected","initializeBuffersAndAttributes","modelMatrix","filter","setupScene","lightCount","light","isLight","color","intensity","applyMaterial","drawGeoInstanced","vertCount","setupGemoetry","drawArraysInstanced","drawElements","UNSIGNED_SHORT","drawArrays","getValue","innerWidth","innerHeight","renderer","isDepthBuffer","useFramebuffer","PrimitivetMaterial","DEFAULT_GUIDE_MATERIAL","Guide","DEFAULT_GRID_MATERIAL","Grid","generate","dataArray","DirectionalLight","Cursor","cursorVerts","loadObjFile","Scene","_objects","grid","CursorControler","state","property","moving","hovering","interaction","setCursor","lastAction","startdelta","test","hitx","hit","hity","readPixelFromBuffer","keydown","ctrlKey","undo","preventDefault","action","objId","nextFrame","lastFrame","tickrate","Viewport","attachShadow","mode","root","shadowRoot","innerHTML","template","appendChild","init","render","clientWidth","clientHeight","updateViewport","onRender","currentFrame","delta","scheduler","run","draw","requestAnimationFrame","mats","createMatFromJson","controler","createScene","cursorControler","objID","lock","unlock","dispatchEvent","Event","setScene","HTMLElement","customElements","module","exports","meshVerts","mesh","savedPosition","setPositionTo","configTask","campos","innerText","addTask","body","OVERLAY_ID","OldModule","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","getParents","modules","parents","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..\\test\\source","sourcesContent":["export default class Config {\r\n\r\n    static get global() {\r\n        return gloalconfig;\r\n    }\r\n\r\n    getValue(name, fallback) {\r\n        if(!(name in this)) {\r\n            this.define(name, fallback);\r\n        }\r\n        this.load();\r\n        return this[name].value;\r\n    }\r\n\r\n    setValue(name, value) {\r\n        if(!this[name]) this.define(name, value);\r\n        this[name].value = value;\r\n        this.save();\r\n    }\r\n\r\n    define(name, defaultValue, value) {\r\n        this[name] = new ConfigParameter(name, defaultValue, value);\r\n    }\r\n\r\n    constructor(name) {\r\n        this.name = name;\r\n    }\r\n\r\n    save() {\r\n        const save = localStorage.getItem(this.name);\r\n        const data = JSON.parse(save) || {};\r\n        for(let key in this) {\r\n            const value = this[key].value;\r\n            if(value != null) data[key] = value;\r\n        }\r\n        localStorage.setItem(this.name, JSON.stringify(data));\r\n    }\r\n\r\n    load() {\r\n        const save = localStorage.getItem(this.name);\r\n        const data = JSON.parse(save);\r\n        for(let key in data) {\r\n            if(key in this) {\r\n                this[key].value = data[key];\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass ConfigParameter {\r\n    constructor(name, defaultValue, value) {\r\n        this.name = name;\r\n        this.default = defaultValue;\r\n        this.value = value || this.default;\r\n    }\r\n}\r\n\r\nconst gloalconfig = new Config('viewport-config');\r\n","export class Texture {\r\n\r\n    get image() {\r\n        return this.img;\r\n    }\r\n\r\n    set image(image) {\r\n        this.img = image;\r\n    }\r\n\r\n    get width() {\r\n        return this.image.width;\r\n    }\r\n\r\n    get height() {\r\n        return this.image.height;\r\n    }\r\n\r\n    gltexture = null; // gets filled in by the renderer\r\n    animated = false;\r\n    textureScale = 1;\r\n\r\n    constructor(image) {\r\n        this.image = image || null;\r\n        this.animated = image && image.localName === \"video\" || this.animated;\r\n    }\r\n\r\n}\r\n","import { Texture } from \"./Texture\";\r\n\r\nexport class Material {\r\n\r\n    name = \"material\";\r\n\r\n    constructor() {\r\n        this.texture = new Texture();\r\n        this.reflectionMap = new Texture();\r\n        this.displacementMap = new Texture();\r\n        \r\n        this.diffuseColor = [1, 1, 1];\r\n        this.transparency = 0;\r\n        this.reflection = 0;\r\n\r\n        this.textureScale = 1;\r\n        this.receiveShadows = true;\r\n        this.castShadows = true;\r\n        this.scaleUniform = false;\r\n        \r\n        Material[this.name] = this.constructor;\r\n    }\r\n\r\n}\r\n","export default class OBJFile {\r\n\r\n\tstatic parseFile(strData) {\r\n\t\tconst lines = strData.split(/\\n/g);\r\n\t\tconst objData = new OBJFile();\r\n\r\n\t\tfor(let line of lines) {\r\n\t\t\tconst data = line.split(\" \");\r\n\t\t\tconst prefix = data[0];\r\n\t\t\tlet coords = [];\r\n\r\n\t\t\tswitch(prefix) {\r\n\r\n\t\t\t\tcase \"v\":\r\n\t\t\t\t\tcoords = data.slice(1);\r\n\t\t\t\t\tobjData.vertecies.push([\r\n\t\t\t\t\t\t+coords[0],\r\n\t\t\t\t\t\t+coords[1],\r\n\t\t\t\t\t\t+coords[2]\r\n\t\t\t\t\t]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"vt\":\r\n\t\t\t\t\tcoords = data.slice(1);\r\n\t\t\t\t\tobjData.uvs.push([\r\n\t\t\t\t\t\t+coords[0],\r\n\t\t\t\t\t\t+coords[1]\r\n\t\t\t\t\t]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"vn\":\r\n\t\t\t\t\tcoords = data.slice(1);\r\n\t\t\t\t\tobjData.normals.push([\r\n\t\t\t\t\t\t+coords[0],\r\n\t\t\t\t\t\t+coords[1],\r\n\t\t\t\t\t\t+coords[2]\r\n\t\t\t\t\t]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"f\":\r\n\t\t\t\t\tcoords = data.slice(1);\r\n\t\t\t\t\tconst face = [];\r\n\t\t\t\t\tfor(let c of coords) {\r\n\t\t\t\t\t\tface.push(c.split('/').map(i => parseInt(i)));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobjData.faces.push(face);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn objData;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tthis.vertecies = [];\r\n\t\tthis.uvs = [];\r\n\t\tthis.faces = [];\r\n\t\tthis.normals = [];\r\n\t}\r\n\r\n}\r\n","import OBJFile from \"./resources/OBJFile.js\";\r\n\r\nconst global = {};\r\n\r\nglobal.initLoaded = false;\r\nglobal.resourceTypes = {\r\n\tJSON: [\".json\"],\r\n\tTEXT: [\".txt\"],\r\n\tIMAGE: [\".png\", \".jpg\"],\r\n\tVIDEO: [\".mp4\"],\r\n\tSHADER: [\".shader\", \".fs\", \".vs\"],\r\n\tGEOMETRY: [\".obj\"],\r\n};\r\n\r\nglobal.queue = new Set();\r\nglobal.map = new Map();\r\n\r\n/*\r\n\tResource.add({ name, path }: arr, startLoading: bool): startLoading ? Promise : null\r\n\t\t# add resource to queue\r\n\r\n\tResource.load(): Promise\r\n\t\t# initiate loading of queue\r\n\r\n\tResource.map(void)\r\n\t\t# return resource map\r\n\r\n\tResource.get(name: str)\r\n\t\t# return resource data by name\r\n\r\n\tResource.finished: bool\r\n\t\t# returns if queue is finished\r\n*/\r\n\r\nexport class Resources {\r\n\r\n\tstatic get Types() {\r\n\t\treturn global.resourceTypes;\r\n\t}\r\n\r\n\tstatic get finished() {\r\n\t\treturn global.queue.size === 0;\r\n\t}\r\n\r\n\tstatic add(obj, startLoad) {\r\n\t\tfor(let key in obj) {\r\n\t\t\tglobal.queue.add({ name: key, path: obj[key] });\r\n\t\t}\r\n\t\tif(startLoad === true) {\r\n\t\t\treturn Resources.load();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic map() {\r\n\t\treturn global.map;\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\treturn global.map.get(name);\r\n\t}\r\n\r\n\tstatic load() {\r\n\t\tlet loads = [];\r\n\r\n\t\tfor(let res of global.queue) {\r\n\t\t\tconst loading = Resources._fetch(res.path).then(dataObj => {\r\n\t\t\t\tconst resource = res;\r\n\t\t\t\tglobal.map.set(resource.name, dataObj);\r\n\t\t\t});\r\n\t\t\tloads.push(loading);\r\n\t\t}\r\n\r\n\t\treturn Promise.all(loads).then(() => {\r\n\t\t\tglobal.queue.clear();\r\n\r\n\t\t\tif(!global.initLoaded && Resources.finished) {\r\n\t\t\t\tglobal.initLoaded = true;\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tstatic _fetch(path) {\r\n\t\tlet type = null;\r\n\r\n\t\tfor(let t in Resources.Types) {\r\n\t\t\tfor(let ending of Resources.Types[t]) {\r\n\t\t\t\tif(path.match(ending)) {\r\n\t\t\t\t\ttype = Resources.Types[t];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswitch(type) {\r\n\r\n\t\t\tcase Resources.Types.JSON:\r\n\t\t\t\treturn fetch(path).then(res => res.json().catch(err => {\r\n\t\t\t\t\tconsole.error(\"File failed parsing:\", path);\r\n\t\t\t\t}));\r\n\r\n\t\t\tcase Resources.Types.IMAGE:\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst img = new Image();\r\n\t\t\t\t\timg.onload = () => {\r\n\t\t\t\t\t\tresolve(img);\r\n\t\t\t\t\t}\r\n\t\t\t\t\timg.src = path;\r\n\t\t\t\t});\r\n\r\n\t\t\tcase Resources.Types.VIDEO:\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst vid = document.createElement('video');\r\n\t\t\t\t\tvid.oncanplay = () => {\r\n\t\t\t\t\t\tvid.width = 1024;\r\n\t\t\t\t\t\tvid.height = 1024;\r\n\t\t\t\t\t\tvid.loop = true;\r\n\t\t\t\t\t\tvid.play();\r\n\t\t\t\t\t\tresolve(vid);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvid.src = path;\r\n\t\t\t\t});\r\n\r\n\t\t\tcase Resources.Types.GEOMETRY:\r\n\t\t\t\treturn fetch(path).then(res => res.text().then(strData => {\r\n\t\t\t\t\treturn OBJFile.parseFile(strData);\r\n\t\t\t\t}));\r\n\t\t\t\t\r\n\t\t\tcase Resources.Types.TEXT:\r\n\t\t\t\treturn fetch(path).then(res => res.text());\r\n\t\t\t\t\r\n\t\t\tcase Resources.Types.SHADER:\r\n\t\t\t\treturn fetch(path).then(res => res.text());\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `Err: not a valid resource type: \"${path}\"`;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","const loggerListeners = new Map();\r\n\r\nexport class Logger {\r\n\r\n    static listen(name, f) {\r\n        const listeners = loggerListeners.get(name);\r\n        if(listeners) {\r\n            listeners.push(f);\r\n        }\r\n    }\r\n\r\n    static dispatch(name, msg) {\r\n        const listeners = loggerListeners.get(name);\r\n        if(listeners) {\r\n            for(let listener of listeners) {\r\n                listener(msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    constructor(name) {\r\n        this.prefix = name;\r\n\r\n        loggerListeners.set(name, []);\r\n\r\n        this.style = {\r\n            prefix: `\r\n                background: #1c1c1c;\r\n                color: rgba(255, 255, 255, 0.65);\r\n                font-weight: 600;\r\n                padding: 2px 6px;\r\n                border-radius: 4px;\r\n                margin-right: 5px;\r\n            `,\r\n            text: `\r\n                background: #333;\r\n                color: #eee;\r\n                padding: 2px 6px;\r\n            `,\r\n            attr: `\r\n                background: #3f3f3f;\r\n                color: #eee;\r\n                padding: 2px 6px;\r\n                font-style: italic;\r\n            `\r\n        };\r\n    }\r\n\r\n    out(type, text, attr) {\r\n        if(attr) {\r\n            console[type](\r\n                `%c${this.prefix}%c${text}%c${attr}`,\r\n                this.style.prefix, \r\n                this.style.text,\r\n                this.style.attr\r\n            );\r\n        } else {\r\n            console[type](\r\n                `%c${this.prefix}%c${text}`,\r\n                this.style.prefix, \r\n                this.style.text,\r\n            );\r\n        }\r\n        \r\n        Logger.dispatch(this.prefix, {\r\n            style: this.style,\r\n            prefix: this.prefix,\r\n            text: text,\r\n        });\r\n    }\r\n\r\n    log(text, attr) {\r\n        this.out('info', text, attr);\r\n    }\r\n\r\n    error(text, attr) {\r\n        this.out('error', text, attr);\r\n    }\r\n\r\n}\r\n","import { Material } from \"./materials/Material\";\r\nimport { Resources } from \"./Resources\";\r\nimport { Texture } from \"./materials/Texture\";\r\nimport { Logger } from \"./Logger\";\r\n\r\nconst logger = new Logger('Loader');\r\n\r\nexport class Loader {\r\n\r\n    static loadObjFile(objFile) {\r\n        const vertecies = [];\r\n\r\n        let face = null;\r\n        let fface = null;\r\n\r\n        try {\r\n            objFile.faces.forEach((f, i) => {\r\n                for(let i = 0; i < 3; i++) {\r\n                    fface = f;\r\n                    face = f[i];\r\n\r\n                    const vertex = objFile.vertecies[face[0]-1];\r\n                    const uv = objFile.uvs[face[1]-1];\r\n                    const normal = objFile.normals[face[2]-1];\r\n\r\n                    if(vertex && uv && normal) {\r\n                        vertecies.push(\r\n                            vertex[0],\r\n                            vertex[1],\r\n                            vertex[2],\r\n\r\n                            uv[0],\r\n                            uv[1],\r\n\r\n                            normal[0],\r\n                            normal[1],\r\n                            normal[2],\r\n                        );\r\n                    }\r\n                }\r\n                if(f.length > 3) {\r\n                    [2, 3, 0].forEach(i => {\r\n                        face = f[i];\r\n        \r\n                        const vertex = objFile.vertecies[face[0]-1];\r\n                        const uv = objFile.uvs[face[1]-1];\r\n                        const normal = objFile.normals[face[2]-1];\r\n        \r\n                        if(vertex && uv && normal) {\r\n                            vertecies.push(\r\n                                vertex[0],\r\n                                vertex[1],\r\n                                vertex[2],\r\n        \r\n                                uv[0],\r\n                                uv[1],\r\n        \r\n                                normal[0],\r\n                                normal[1],\r\n                                normal[2],\r\n                            );\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n\r\n        } catch(err) {\r\n            console.error(face, fface);\r\n            console.error(err);\r\n        }\r\n\r\n        \r\n        return vertecies;\r\n    }\r\n\r\n    static createMatFromJson(name, json) {\r\n        const mat = new Material(name);\r\n\r\n        Object.assign(mat, json);\r\n\r\n        if(json.texture) {\r\n            const texImage = Resources.get(json.texture);\r\n            const texture = new Texture(texImage);\r\n            mat.texture = texture;\r\n\r\n            if(!texImage) {\r\n                logger.error('could not find texture on Material', name);\r\n            }\r\n        }\r\n\r\n        if(json.reflectionMap) {\r\n            const reflectionImage = Resources.get(json.reflectionMap);\r\n            const reflectionTexture = new Texture(reflectionImage);\r\n            mat.reflectionMap = reflectionTexture;\r\n\r\n            if(!reflectionImage) {\r\n                logger.error('could not find reflectionMap on Material', name);\r\n            }\r\n        }\r\n\r\n        if(json.displacementMap) {\r\n            const displacementImage = Resources.get(json.displacementMap);\r\n            const displacementMap = new Texture(displacementImage);\r\n            mat.displacementMap = displacementMap;\r\n\r\n            if(!displacementImage) {\r\n                logger.error('could not find displacementMap on Material', name);\r\n            }\r\n        }\r\n\r\n        return mat;\r\n    }\r\n\r\n}\r\n","import { Resources } from \"../Resources\";\r\nimport { Material } from \"./Material\";\r\nimport { Texture } from \"./Texture\";\r\n\r\nResources.add({\r\n    'texture256': require('../../res/textures/placeholder_256.png'),\r\n}, false);\r\n\r\nexport default class TestMaterial extends Material {\r\n    \r\n    name = \"TEST\";\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.texture = new Texture(Resources.get('texture256'));\r\n\r\n        this.textureScale = 256;\r\n        this.diffuseColor = [1, 1, 1];\r\n\r\n        this.receiveShadows = true;\r\n        this.castShadows = true;\r\n    }\r\n\r\n}\r\n","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {mat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {mat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {mat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {mat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2));\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {mat2} L the lower triangular matrix\r\n * @param {mat2} D the diagonal matrix\r\n * @param {mat2} U the upper triangular matrix\r\n * @param {mat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n *\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty,\r\n *  0, 0, 1]\r\n * </pre>\r\n * The last row is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {mat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {mat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {mat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {mat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.sqrt(x * x + y * y + z * z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\n  out[1] = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\n  out[2] = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n  var trace = mat[0] + mat[5] + mat[10];\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if (mat[0] > mat[5] && mat[0] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2) + Math.pow(a[9], 2) + Math.pow(a[10], 2) + Math.pow(a[11], 2) + Math.pow(a[12], 2) + Math.pow(a[13], 2) + Math.pow(a[14], 2) + Math.pow(a[15], 2));\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q quaternion\r\n * @param {vec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {vec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {mat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {quat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {quat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat} q quaternion to rotate by\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {vec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.sqrt(axis[0] * axis[0] + axis[1] * axis[1] + axis[2] * axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {quat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return 'quat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ')';\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat2} a the first dual quaternion.\r\n * @param {quat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat2} a the first dual quat.\r\n * @param {quat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","import { mat4, vec4, vec3 } from \"gl-matrix\";\r\n\r\nexport class Vec extends Array {\r\n\r\n\ttoString() {\r\n\t\treturn `${this[0].toFixed(2)};${this[1].toFixed(2)};${this[2].toFixed(2)}`;\r\n\t}\r\n\r\n\tstatic avg(vec1, vec2) {\r\n\t\treturn new Vec(\r\n\t\t\t(vec2[0] + vec1[0]) / 2,\r\n\t\t\t(vec2[1] + vec1[1]) / 2,\r\n\t\t\t(vec2[2] + vec1[2]) / 2,\r\n\t\t);\r\n\t}\r\n\r\n\tstatic normal(vec1) {\r\n\t\tconst n1 = new Vec();\r\n\t\tvec3.normalize(n1, vec1);\r\n\t\treturn n1;\r\n\t}\r\n\r\n\tstatic divide(vec1, vec2) {\r\n\t\treturn new Vec(\r\n\t\t\t(vec1[0] / vec2[0]),\r\n\t\t\t(vec1[1] / vec2[1]),\r\n\t\t\t(vec1[2] / vec2[2]),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic add(vec1, vec2) {\r\n\t\treturn new Vec(\r\n\t\t\tvec1[0] + vec2[0],\r\n\t\t\tvec1[1] + vec2[1],\r\n\t\t\tvec1[2] + vec2[2],\r\n\t\t\tvec1[3] + vec2[3]\r\n\t\t);\r\n\t}\r\n\r\n\tstatic subtract(vec1, vec2) {\r\n\t\treturn new Vec(\r\n\t\t\tvec1[0] - vec2[0],\r\n\t\t\tvec1[1] - vec2[1],\r\n\t\t\tvec1[2] - vec2[2],\r\n\t\t\tvec1[3] - vec2[3]\r\n\t\t);\r\n\t}\r\n\r\n\tstatic multiply(vec1, vec2) {\r\n\t\treturn new Vec(\r\n\t\t\tvec1[0] * vec2[0],\r\n\t\t\tvec1[1] * vec2[1],\r\n\t\t\tvec1[2] * vec2[2],\r\n\t\t\tvec1[3] * vec2[3],\r\n\t\t);\r\n\t}\r\n\r\n\tget x() { return this[0]; }\r\n\tget y() { return this[1]; }\r\n\tget z() { return this[2]; }\r\n\tget w() { return this[3]; }\r\n\r\n\tset x(val) { this[0] = val; }\r\n\tset y(val) { this[1] = val; }\r\n\tset z(val) { this[2] = val; }\r\n\tset w(val) { this[3] = val; }\r\n\r\n\tconstructor(x = 0, y = 0, z = 0, w = 0) {\r\n\t\tsuper();\r\n\r\n\t\tthis[0] = x;\r\n\t\tthis[1] = y;\r\n\t\tthis[2] = z;\r\n\t\tthis[3] = w;\r\n\r\n\t\tif(arguments.length === 1) {\r\n\t\t\tthis[0] = x[0];\r\n\t\t\tthis[1] = x[1];\r\n\t\t\tthis[2] = x[2];\r\n\t\t\tthis[3] = x[3];\r\n\t\t}\r\n\t}\r\n\r\n\tadd(vec) {\r\n\t\treturn Vec.add(this, vec);\r\n\t}\r\n\r\n\tmultiply(vec) {\r\n\t\treturn Vec.multiply(this, vec);\r\n\t}\r\n\r\n\tdivide(vec) {\r\n\t\treturn Vec.divide(this, vec);\r\n\t}\r\n\r\n\tsubtract(vec) {\r\n\t\treturn Vec.subtract(this, vec);\r\n\t}\r\n\r\n\tdot(vec) {\r\n\t\treturn vec3.dot(this, vec);\r\n\t}\r\n\r\n\tnormalize() {\r\n\t\tvec3.normalize(this, this);\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nexport class Raycast extends Vec {\r\n\r\n\tconstructor(camera, x, y) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tconst camPos = camera.worldPosition;\r\n\t\tconst width = camera.sensor.width;\r\n\t\tconst height = camera.sensor.height;\r\n\r\n\t\tthis.origin = new Vec(camPos.x, camPos.y, camPos.z);\r\n\r\n\t\tthis[0] = (2 * x) / width - 1;\r\n\t\tthis[1] = 1 - (2 * y) / height;\r\n\t\tthis[2] = 1;\r\n\t\tthis[3] = 1;\r\n\r\n\t\tthis.project(camera.projMatrix, camera.viewMatrix);\r\n\t}\r\n\r\n\tproject(projMatrix, viewMatrix) {\r\n\r\n\t\tconst projInverse = mat4.create();\r\n\t\tmat4.invert(projInverse, projMatrix);\r\n\t\tvec4.transformMat4(this, this, projInverse);\r\n\r\n\t\tconst viewInverse = mat4.create();\r\n\t\tmat4.invert(viewInverse, viewMatrix);\r\n\t\tvec4.transformMat4(this, this, viewInverse);\r\n\r\n\t\tvec4.normalize(this, this);\r\n\t}\r\n\r\n\tdistnace(plane, normal) {\r\n\t\tconst a = this.origin.add(plane).dot(normal);\r\n\t\tconst b = this.dot(normal);\r\n\t\treturn - (a / b);\r\n\t}\r\n\r\n\thit(plane, normal) {\r\n\t\tconst t = this.distnace(plane, normal);\r\n\t\tconst pos = this.origin.add(this.multiply(new Vec(t, t, t)));\r\n\r\n\t\tif(t > 0 && t < 100000) {\r\n\t\t\treturn {\r\n\t\t\t\tdistance: t,\r\n\t\t\t\tposition: pos,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport class Transform {\r\n\tconstructor({\r\n\t\tposition = new Vec(),\r\n\t\trotation = new Vec(),\r\n\t\torigin = new Vec(),\r\n\t\tscale = 1,\r\n\t} = {}) {\r\n\t\tthis.position = new Vec(position);\r\n\t\tthis.rotation = new Vec(rotation);\r\n\t\tthis.scale = scale;\r\n\t\tthis.origin = new Vec(origin);\r\n\t}\r\n}\r\n","import { Material } from \"./Material\";\r\n\r\nexport default class DefaultMaterial extends Material {\r\n\r\n    name = \"DEFAULT\";\r\n    \r\n    constructor() {\r\n        super();\r\n\r\n        this.diffuseColor = [1, 1, 1];\r\n\r\n        this.receiveShadows = true;\r\n        this.castShadows = true;\r\n    }\r\n\r\n}\r\n","import { Transform } from \"../Math.js\";\r\nimport DefaultMaterial from \"../materials/DefaultMaterial.js\";\r\n\r\nconst DEFAULT_MATERIAL = new DefaultMaterial();\r\n\r\nexport class Geometry extends Transform {\r\n\r\n\t_buffer = null;\r\n\r\n\tstatic attributes = [\r\n\t\t{ size: 3, attribute: \"aPosition\" },\r\n\t\t{ size: 2, attribute: \"aTexCoords\" },\r\n\t\t{ size: 3, attribute: \"aNormal\" },\r\n\t]\r\n\r\n\tget buffer() {\r\n\t\tthis._buffer = this._buffer || this.createBuffer();\r\n\t\treturn this._buffer;\r\n\t}\r\n\r\n\tget vertecies() {\r\n\t\treturn this.vertArray || [];\r\n\t}\r\n\r\n\tget indecies() {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tconstructor(args = {}) {\r\n\t\tsuper(args);\r\n\r\n\t\tthis.instanced = false;\r\n\t\tthis.instances = 0;\r\n\t\t\r\n        this.onCreate(args);\r\n        \r\n\t\tconst {\r\n\t\t\tvertecies = null,\r\n\t\t\tmaterial = DEFAULT_MATERIAL,\r\n            hidden = false,\r\n\t\t\tguide = false,\r\n\t\t\tuv = [0, 0],\r\n\t\t\tdrawmode = \"TRIANGLES\",\r\n\t\t\tid = null,\r\n\t\t} = args;\r\n\t\t\r\n\t\tthis.vertArray = vertecies;\r\n\t\tthis.material = material;\r\n        this.hidden = hidden;\r\n\t\tthis.guide = guide;\r\n\t\tthis.uv = uv;\r\n\t\tthis.drawmode = drawmode;\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tonCreate(args) {\r\n\r\n\t}\r\n\r\n\tcreateBuffer() {\r\n\t\treturn new VertexBuffer(\r\n\t\t\tthis.vertecies, \r\n\t\t\tthis.indecies, \r\n\t\t\tthis.constructor.attributes, \r\n\t\t\tthis.drawmode\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass VertexBuffer {\r\n\t\r\n\tget vertsPerElement() {\r\n\t\treturn this.vertecies.length / this.elements;\r\n\t}\r\n\r\n\tget elements() {\r\n\t\tlet count = 0;\r\n\t\tfor(let key in this.attributes) {\r\n\t\t\tcount += this.attributes[key].size;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\n\tconstructor(vertArray, indexArray, attributes, type) {\r\n\r\n\t\tthis.vertecies = new Float32Array(vertArray);\r\n\t\tthis.indecies = new Uint16Array(indexArray);\r\n\r\n\t\tthis.attributes = attributes;\r\n\t\t\r\n\t\tthis.type = type || \"TRIANGLES\";\r\n\t}\r\n\r\n}\r\n","export class Scheduler {\r\n\r\n    static timer(timer, callback) {\r\n        let accumulator = 0;\r\n\r\n        return function(deltaTime) {\r\n            accumulator += deltaTime;\r\n            if(accumulator >= timer) {\r\n                callback(accumulator);\r\n                accumulator = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    constructor() {\r\n        this.queue = [];\r\n    }\r\n\r\n    addTask(task) {\r\n        if(task instanceof Task) {\r\n            this.queue.push(task);\r\n        }\r\n    }\r\n\r\n    removeTask(task) {\r\n        const index = this.queue.indexOf(task);\r\n        if(index != -1) {\r\n            this.queue.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    requestTask() {\r\n        if(this.queue.length > 0) {\r\n            const task = this.queue[0];\r\n            return task;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    run(deltaTime) {\r\n        for(let task of this.queue) {\r\n            const done = task.execute(deltaTime);\r\n            if(done) this.removeTask(task);\r\n        }\r\n    }\r\n}\r\n\r\nexport class Task {\r\n\r\n    constructor() {\r\n        \r\n    }\r\n\r\n    execute(ms) {\r\n        return true;\r\n    }\r\n\r\n}\r\n","import { mat4, vec3 } from 'gl-matrix';\r\nimport { Vec } from '../Math.js';\r\nimport { Geometry } from '../scene/Geometry';\r\nimport DefaultMaterial from '../materials/DefaultMaterial.js';\r\n\r\nconst DEFAULT_CAMERA_MATERIAL = new DefaultMaterial();\r\n\r\nexport class Camera extends Geometry {\r\n\r\n\tattributes =  [\r\n\t\t{ size: 3, attribute: \"aPosition\" },\r\n\t\t{ size: 2, attribute: \"aTexCoords\" }\r\n\t]\r\n\r\n\tget vertecies() {\r\n\t\tconst s = 50 / this.scale;\r\n\t\tconst vertArray = [\r\n\t\t\t-s, -s, 0, \t0, 0,\r\n\t\t\ts, -s, 0, \t1, 0, \r\n\t\t\ts, s, 0, \t1, 1,\r\n\r\n\t\t\ts, s, 0, \t1, 1,\r\n\t\t\t-s, s, 0, \t0, 1, \r\n\t\t\t-s, -s, 0, \t0, 0,\r\n\r\n\t\t\ts, s, 0, \t1, 1,\r\n\t\t\ts, s, s * 2, \t1, 1,\r\n\r\n\t\t\t-s, -s, s * 2, \t0, 0,\r\n\t\t\ts, -s, s * 2, \t1, 0, \r\n\t\t\ts, s, s * 2, \t1, 1,\r\n\r\n\t\t\ts, s, s * 2, \t1, 1,\r\n\t\t\t-s, s, s * 2, \t0, 1, \r\n\t\t\t-s, -s, s * 2, \t0, 0,\r\n\r\n\t\t\t-s/2, -s/2, -s, \t0, 0,\r\n\t\t\ts/2, -s/2, -s, \t\t1, 0, \r\n\t\t\ts/2, s/2, -s, \t\t1, 1,\r\n\r\n\t\t\ts/2, s/2, -s, \t\t1, 1,\r\n\t\t\t-s/2, s/2, -s, \t\t0, 1, \r\n\t\t\t-s/2, -s/2, -s, \t0, 0,\r\n\t\t]\r\n\t\treturn vertArray;\r\n\t}\r\n\r\n\tonCreate(args) {\r\n\t\targs.drawmode = \"LINE_STRIP\";\r\n\t\targs.material = DEFAULT_CAMERA_MATERIAL;\r\n\t}\r\n\r\n\tconstructor(args = {}) {\r\n\t\tconst {\r\n\t\t\tfov = 50,\r\n\t\t\tscale = 0.004,\r\n\t\t\tfarplane = 350,\r\n\t\t\tnearplane = 0.025,\r\n\t\t\twidth = 1280,\r\n\t\t\theight = 720,\r\n\t\t} = args;\r\n\t\tsuper(args);\r\n\r\n\t\tthis.scale = scale;\r\n\t\tthis.fov = fov;\r\n\t\tthis.farplane = farplane;\r\n\t\tthis.nearplane = nearplane;\r\n\t\tthis.lookAt = new Vec(0, 0, 0);\r\n\r\n\t\tthis.projMatrix = mat4.create();\r\n\t\tthis.viewMatrix = mat4.create();\r\n\t\tthis.projViewMatrix = mat4.create();\r\n\r\n\t\tthis.sensor = {\r\n\t\t\twidth: width,\r\n\t\t\theight: height\r\n\t\t}\r\n\r\n\t\tthis.update();\r\n\r\n\t\tconst self = this;\r\n\r\n\t\tthis.worldPosition = {\r\n\t\t\tget x() {\r\n\t\t\t\treturn -self.position.x;\r\n\t\t\t},\r\n\t\t\tget y() {\r\n\t\t\t\treturn -self.position.y;\r\n\t\t\t},\r\n\t\t\tget z() {\r\n\t\t\t\treturn -self.position.z;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetPositionTo(transform) {\r\n\t\tthis.position = transform.position;\r\n\t\tthis.rotation = transform.rotation;\r\n\t}\r\n\r\n\tzoom(dir) {\r\n\t\tthis.position.z += -100 * Math.sign(dir);\r\n\t\tthis.update();\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tconst projMatrix = this.projMatrix;\r\n\t\tconst viewMatrix = this.viewMatrix;\r\n\t\tconst camera = this;\r\n\r\n\t\tconst ar = this.sensor.width / this.sensor.height;\r\n\t\tmat4.perspective(projMatrix, Math.PI / 180 * camera.fov, ar, camera.nearplane, camera.farplane);\r\n\t\tmat4.lookAt(\r\n\t\t\tviewMatrix, \r\n\t\t\tvec3.fromValues(0, 0, 0),\r\n\t\t\tvec3.fromValues(camera.lookAt.x, camera.lookAt.y, camera.lookAt.z), \r\n\t\t\tvec3.fromValues(0, 1, 0)\r\n\t\t);\r\n\r\n\t\tmat4.scale(viewMatrix, viewMatrix, vec3.fromValues(\r\n\t\t\tcamera.scale, \r\n\t\t\tcamera.scale, \r\n\t\t\tcamera.scale,\r\n\t\t));\r\n\r\n\t\tmat4.translate(viewMatrix, viewMatrix, camera.position);\r\n\r\n\t\tmat4.rotateX(viewMatrix, viewMatrix, Math.PI / 180 * camera.rotation.x);\r\n\t\tmat4.rotateY(viewMatrix, viewMatrix, Math.PI / 180 * camera.rotation.y);\r\n\t\t\r\n\t\tmat4.multiply(this.projViewMatrix, this.projMatrix, this.viewMatrix);\r\n\t}\r\n}\r\n","import { mat4, vec3 } from \"gl-matrix\";\r\nimport { Camera } from \"./Camera\";\r\n\r\nexport class FirstPersonCamera extends Camera {\r\n\r\n    update() {\r\n\t\tconst projMatrix = this.projMatrix;\r\n\t\tconst viewMatrix = this.viewMatrix;\r\n\t\tconst camera = this;\r\n        \r\n\t\tconst ar = this.sensor.width / this.sensor.height;\r\n        mat4.perspective(projMatrix, Math.PI / 180 * camera.fov, ar, camera.nearplane, camera.farplane);\r\n\t\t\r\n\t\t// view\r\n\r\n\t\tmat4.lookAt(\r\n\t\t\tviewMatrix, \r\n\t\t\tvec3.fromValues(0, 0, 0),\r\n\t\t\tcamera.lookAt, \r\n\t\t\tvec3.fromValues(0, 1, 0)\r\n\t\t);\r\n\r\n\t\tmat4.rotateX(viewMatrix, viewMatrix, camera.rotation.x);\r\n\t\tmat4.rotateY(viewMatrix, viewMatrix, camera.rotation.y);\r\n\r\n\t\tmat4.scale(viewMatrix, viewMatrix, vec3.fromValues(\r\n\t\t\tcamera.scale, \r\n\t\t\tcamera.scale, \r\n\t\t\tcamera.scale,\r\n\t\t));\r\n\r\n\t\tmat4.translate(viewMatrix, viewMatrix, camera.position);\r\n\t\tmat4.multiply(this.projViewMatrix, this.projMatrix, this.viewMatrix);\r\n\t}\r\n\r\n}\r\n","export class EntityControler {\r\n\r\n\tlocked = false;\r\n\r\n\tconstructor(entity, viewport) {\r\n\t\tif(!entity) throw \"No controllable entity\";\r\n\r\n\t\tthis.entity = entity;\r\n\t\tthis.viewport = viewport;\r\n\r\n\t\tthis.initKeyboard();\r\n\t\tthis.initMouse();\r\n\t}\r\n\r\n\tupdate() {\r\n\t\t// interface update method\r\n\t}\r\n\r\n\tlock() {\r\n\t\tthis.locked = true;\r\n\t}\r\n\r\n\tunlock() {\r\n\t\tthis.locked = false;\r\n\t}\r\n\r\n\tinitKeyboard() {\r\n\r\n\t}\r\n\r\n\tinitMouse() {\r\n\r\n\t}\r\n\t\r\n\tstatic isMouseButton(e) {\r\n\t\tlet mbutton;\r\n\t\tif(e.button != null) {\r\n\t\t\tif(e.buttons == 4) {\r\n\t\t\t\tmbutton = 2;\r\n\t\t\t} else {\r\n\t\t\t\tmbutton = e.buttons;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmbutton = e.which;\r\n\t\t}\r\n\t\treturn mbutton;\r\n\t}\r\n\r\n}","import { EntityControler } from \"./EntityControler\";\r\n\r\nexport class FirstPersonControler extends EntityControler {\r\n\r\n\tup() {\r\n\t\tconst camera = this.entity;\r\n\t\tcamera.position.y -= this.speed;\r\n\t}\r\n\r\n\tdown() {\r\n\t\tconst camera = this.entity;\r\n\t\tcamera.position.y += this.speed;\r\n\t}\r\n\r\n\tmove(dir) {\r\n\t\tconst camera = this.entity;\r\n\t\tconst speed = this.speed * dir;\r\n\t\t\r\n\t\tconst a = -camera.rotation.y;\r\n\t\tconst b = -camera.rotation.x;\r\n\r\n\t\tcamera.position.x += speed * Math.sin(a);\r\n\t\tcamera.position.z += speed * Math.cos(a);\r\n\t\t\r\n\t\tcamera.position.y -= speed * Math.sin(b);\r\n\t}\r\n\r\n\tstrafe(dir) {\r\n\t\tconst camera = this.entity;\r\n\t\tconst speed = this.speed * dir;\r\n\t\t\r\n\t\tconst a = camera.rotation.y;\r\n\r\n\t\tcamera.position.z += speed * Math.sin(a);\r\n\t\tcamera.position.x += speed * Math.cos(a);\r\n\t}\r\n\r\n\tcheckControls() {\r\n\t\tif(this.checkKey(\"w\")) this.move(1);\r\n\t\tif(this.checkKey(\"s\")) this.move(-1);\r\n\r\n\t\tif(this.checkKey(\"a\")) this.strafe(1);\r\n\t\tif(this.checkKey(\"d\")) this.strafe(-1);\r\n\r\n\t\tif(this.checkKey(\"q\")) this.up();\r\n\t\tif(this.checkKey(\"y\")) this.down();\r\n\t}\r\n\r\n\tsensivity = 0.0033;\r\n\tspeed = 20;\r\n\r\n\tconstructor(entity, viewport) {\r\n\t\tsuper(entity, viewport);\r\n\r\n\t\tconst entityUpdate = entity.update.bind(entity);\r\n\t\tentity.update = (arg) => {\r\n\t\t\tthis.checkControls();\r\n\t\t\tentityUpdate(arg);\r\n\t\t}\r\n\t}\r\n\r\n\tlock() {\r\n\t\tsuper.lock();\r\n\t\tdocument.exitPointerLock();\r\n\t}\r\n\r\n\tinitMouse() {\r\n\t\tconst entity = this.entity;\r\n\r\n\t\tconst down = e => {\r\n\t\t\tif(EntityControler.isMouseButton(e) == 2) {\r\n\t\t\t\tthis.viewport.requestPointerLock();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst move = e => {\r\n\t\t\tif(document.pointerLockElement != null) {\r\n\t\t\t\tentity.rotation.y += e.movementX * this.sensivity;\r\n\t\t\t\tentity.rotation.x += e.movementY * this.sensivity;\r\n\r\n\t\t\t\tentity.rotation.x = entity.rotation.x % (Math.PI * 2);\r\n\t\t\t\tentity.rotation.y = entity.rotation.y % (Math.PI * 2);\r\n\t\t\t\tentity.rotation.z = entity.rotation.z % (Math.PI * 2);\r\n\r\n\t\t\t\tentity.rotation.x = Math.max(Math.min(entity.rotation.x, 1.5), -1.5);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.viewport.addEventListener(\"mousedown\", down);\r\n\t\tthis.viewport.addEventListener(\"mousemove\", move);\r\n\t}\r\n\r\n\tinitKeyboard() {\r\n\t\tthis.keyMap = new Map();\r\n\r\n\t\twindow.addEventListener('keydown', e => {\r\n\t\t\tif(document.pointerLockElement != null) {\r\n\t\t\t\tthis.keyMap.set(e.key, true);\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\twindow.addEventListener('keyup', e => {\r\n\t\t\tthis.keyMap.delete(e.key);\r\n\t\t})\r\n\t}\r\n\r\n\tcheckKey(key) {\r\n\t\treturn this.keyMap.has(key);\r\n\t}\r\n\r\n}\r\n","import { Geometry } from \"../scene/Geometry.js\";\r\n\r\nexport class Plane extends Geometry {\r\n\r\n\tstatic attributes = [\r\n\t\t{ size: 3, attribute: \"aPosition\" },\r\n\t\t{ size: 2, attribute: \"aTexCoords\" }\r\n\t]\r\n\r\n\tget vertecies() {\r\n\t\tconst s = 1;\r\n\t\treturn [\r\n\t\t\t-s, -s, 0, \t0, 0,\r\n\t\t\ts, -s, 0, \t1, 0, \r\n\t\t\ts, s, 0, \t1, 1,\r\n\r\n\t\t\ts, s, 0, \t1, 1,\r\n\t\t\t-s, s, 0, \t0, 1, \r\n\t\t\t-s, -s, 0, \t0, 0,\r\n\t\t]\r\n\t}\r\n\r\n\tonCreate(args) {\r\n\t\targs.drawmoed = \"TRIANGLES\";\r\n\t}\r\n\t\r\n}\r\n","export class GLShader {\r\n\r\n\tstatic vertexSource() {}\r\n\tstatic fragmentSource() {}\r\n\r\n\tget vertexShader() { return this._vertShader; }\r\n\tget fragementShader() { return this._fragShader; }\r\n\r\n\tget uniforms() { return this._uniforms; }\r\n\tget attributes() { return this._attributes; }\r\n\r\n\tget source() {\r\n\t\treturn [\r\n\t\t\tthis.constructor.vertexSource(),\r\n\t\t\tthis.constructor.fragmentSource()\r\n\t\t];\r\n\t}\r\n\r\n\t_vertShader = null;\r\n\t_fragShader = null;\r\n\r\n\t_uniforms = null;\r\n\t_attributes = null;\r\n\r\n\t_uniform = {};\r\n\t_initialized = false;\r\n\r\n\tsetUniforms(gl) {\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tif(uniforms) {\r\n\t\t\tfor(let opt in this._uniform) {\r\n\t\t\t\tconst value = this._uniform[opt];\r\n\t\t\t\tif(opt === \"integer\") {\r\n\t\t\t\t\tfor(let opt in this._uniform.integer) {\r\n\t\t\t\t\t\tgl.uniform1i(uniforms[opt], this._uniform.integer[opt]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(Array.isArray(value)) {\r\n\t\t\t\t\tgl.uniform3fv(uniforms[opt], value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgl.uniform1f(uniforms[opt], value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { GLShader } from \"../shader/GLShader\";\r\n\r\nexport class GLContext {\r\n\r\n\tcurrentShader = null;\r\n\tframebuffers = new Map();\r\n\tbufferTextures = new Map();\r\n\tshaders = new Map();\r\n\r\n\toptions = {\r\n\t\tDEPTH_TEST: true,\r\n\t\tCULL_FACE: true,\r\n\t\tBLEND: true,\r\n\t}\r\n\r\n\t// canvas sizes\r\n\tget width() { return this.gl.canvas.width; }\r\n\tget height() { return this.gl.canvas.height; }\r\n\tget aspectratio() { return this.width / this.height; }\r\n\r\n\tonCreate() {\r\n\t\t// on create method\r\n\t}\r\n\r\n\tenable(constant) {\r\n\t\tthis.gl.enable(constant);\r\n\t}\r\n\r\n\tdisable(constant) {\r\n\t\tthis.gl.disable(constant);\r\n\t}\r\n\r\n\tconstructor(canvas) {\r\n\t\tif(!canvas) throw \"GLContext: Err: no canvas\";\r\n\r\n\t\tthis.getContext(canvas);\r\n\t\tthis.onCreate();\r\n\r\n\t\t// enable gl options\r\n\t\tthis.setOptions(this.options);\r\n\t}\r\n\r\n\tsetOptions(options) {\r\n\t\tfor(let opt in options) {\r\n\t\t\tif(options[opt] === true) {\r\n\t\t\t\tthis.gl.enable(this.gl[opt]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// set viewport resolution\r\n\tviewport(width, height) {\r\n\t\tthis.gl.viewport(0, 0, width, height);\r\n\t}\r\n\r\n\t// set canvas and viewport resolution\r\n\tsetResolution(width, height) {\r\n\t\tthis.gl.canvas.width = width;\r\n\t\tthis.gl.canvas.height = height;\r\n\t\tthis.viewport(this.width, this.height);\r\n\t}\r\n\r\n\t// clear framebuffer\r\n\tclear() {\r\n\t\tthis.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\r\n\t}\r\n\r\n\t// get webgl context from canvas\r\n\tgetContext(canvas) {\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\tconst ctxtOpts = { \r\n\t\t\t// alpha: false\r\n\t\t};\r\n\t\tthis.gl = canvas.getContext(\"webgl2\", ctxtOpts) || \r\n\t\t\t\t  canvas.getContext(\"webgl\", ctxtOpts);\r\n\r\n\t\tthis.gl.cullFace(this.gl.BACK);\r\n\t\tthis.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n\t}\r\n\r\n\t// use webgl shader\r\n\tuseShader(shader) {\r\n\t\tthis.gl.useProgram(shader.program);\r\n\t\tshader.setUniforms(this.gl);\r\n\t\tthis.currentShader = shader;\r\n\t}\r\n\r\n\t// use framebuffer\r\n\tuseTexture(texture, uniformStr, slot) {\r\n\t\tif(uniformStr && slot != null) {\r\n\t\t\tthis.gl.activeTexture(this.gl[\"TEXTURE\" + slot]);\r\n\t\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n\t\t\tthis.gl.uniform1i(this.currentShader.uniforms[uniformStr], slot);\r\n\t\t} else {\r\n\t\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n\t\t}\r\n\t}\r\n\r\n\t// use framebuffer\r\n\tuseFramebuffer(name) {\r\n\t\tif(this.framebuffers.has(name)) {\r\n\t\t\tthis.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.framebuffers.get(name));\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Err:\", name, \"framebuffer not found\");\r\n\t\t}\r\n\t}\r\n\r\n\t// unbind framebuffer\r\n\tclearFramebuffer() {\r\n\t\tthis.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\r\n\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, null);\r\n\t}\r\n\r\n\t// get framebuffer texture from cache\r\n\tgetBufferTexture(name) {\r\n\t\treturn this.bufferTextures.get(name);\r\n\t}\r\n\r\n\t// initialize webgl shader\r\n\tprepareShader(shader) {\r\n\t\tconst gl = this.gl;\r\n\t\tif(shader instanceof GLShader) {\r\n\r\n\t\t\tif(shader.source) {\r\n\t\t\t\tshader._vertShader = this.compileShader(shader.source[0], gl.VERTEX_SHADER);\r\n\t\t\t\tshader._fragShader = this.compileShader(shader.source[1], gl.FRAGMENT_SHADER);\r\n\t\t\t\tshader.program = this.createProgram(shader._vertShader, shader._fragShader);\r\n\r\n\t\t\t\tshader._uniforms = this.getUniforms(shader.program);\r\n\t\t\t\tshader._attributes = this.getAttributes(shader.program);\r\n\t\t\t\t\r\n\t\t\t\tshader._initialized = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.shaders.set(shader.name, shader);\r\n\t\t\treturn shader.program;\r\n\t\t}\r\n\t}\r\n\r\n\t// get attributes from shader program\r\n\tgetAttributes(program) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst attributes = {};\r\n\t\r\n\t\tconst numAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\r\n\t\tfor (let i = 0; i < numAttributes; ++i) {\r\n\t\t\tconst name = gl.getActiveAttrib(program, i).name;\r\n\t\t\tattributes[name] = gl.getAttribLocation(program, name);\r\n\t\t}\r\n\t\r\n\t\treturn attributes;\r\n\t}\r\n\r\n\t// get uniforms from shader program\r\n\tgetUniforms(program) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst uniforms = {};\r\n\t\tconst numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\r\n\t\tfor (let i = 0; i < numUniforms; ++i) {\r\n\t\t\tconst name = gl.getActiveUniform(program, i).name;\r\n\t\t\tuniforms[name] = gl.getUniformLocation(program, name);\r\n\t\t}\r\n\t\treturn uniforms;\r\n\t}\r\n\r\n\t// compile glsl shader\r\n\tcompileShader(src, type) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst shader = gl.createShader(type);\r\n\t\tgl.shaderSource(shader, src);\r\n\t\tgl.compileShader(shader);\r\n\r\n\t\tif(!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tconsole.error(src);\r\n\t\t\tthrow new Error(gl.getShaderInfoLog(shader));\r\n\t\t}\r\n\r\n\t\treturn shader;\r\n\t}\r\n\r\n\t// use vertex array object\r\n\tuseVAO(VAO) {\r\n\t\tthis.gl.bindVertexArray(VAO);\r\n\t}\r\n\r\n\t// create vertex array object\r\n\tcreateVAO() {\r\n\t\tconst VAO = this.gl.createVertexArray();\r\n\t\tthis.gl.bindVertexArray(VAO);\r\n\t\treturn VAO;\r\n\t}\r\n\r\n\t// create webgl framebuffer objects\r\n\tcreateFramebuffer(name, width, height) {\r\n\t\tconst gl = this.gl;\r\n\r\n\t\tconst fbo = this.gl.createFramebuffer();\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\r\n\r\n\t\treturn {\r\n\t\t\tcolorbuffer: () => {\r\n\t\t\t\tconst renderTraget = this.createBufferTexture(width, height);\r\n\t\t\t\tthis.useTexture(renderTraget);\r\n\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, renderTraget, 0);\r\n\r\n\t\t\t\tconst depthTexture = this.createDepthTexture(width, height);\r\n\t\t\t\tthis.useTexture(depthTexture);\r\n\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depthTexture, 0);\r\n\t\t\t\t\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\t\tthis.useTexture(null);\r\n\r\n\t\t\t\tthis.bufferTextures.set('depth', depthTexture);\r\n\t\t\t\tthis.bufferTextures.set(name, renderTraget);\r\n\t\t\t\tthis.framebuffers.set(name, fbo);\r\n\t\t\t},\r\n\t\t\tdepthbuffer: () => {\r\n\t\t\t\tconst depthTexture = this.createDepthTexture(width, height);\r\n\t\t\t\tthis.useTexture(depthTexture);\r\n\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depthTexture, 0);\r\n\t\t\t\t\r\n\t\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\t\t\t\tthis.useTexture(null);\r\n\r\n\t\t\t\tthis.bufferTextures.set(name, depthTexture);\r\n\t\t\t\tthis.framebuffers.set(name, fbo);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// create shader program\r\n\tcreateProgram(vertShader, fragShader) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst program = gl.createProgram();\r\n\t\tgl.attachShader(program, vertShader);\r\n\t\tgl.attachShader(program, fragShader);\r\n\t\tgl.linkProgram(program);\r\n\r\n\t\tif(!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n\t\t\tthrow new Error(gl.getProgramInfoLog(program));\r\n\t\t}\r\n\t\r\n\t\treturn program;\r\n\t}\r\n\r\n\t// create framebuffer depth texture\r\n\tcreateDepthTexture(w, h) {\r\n\t\tconst gl = this.gl;\r\n\r\n\t\tconst texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.DEPTH_COMPONENT24, w, h, 0, gl.DEPTH_COMPONENT, gl.UNSIGNED_INT, null);\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n\t\treturn texture;\r\n\t}\r\n\r\n\t// create framebuffer texture\r\n\tcreateBufferTexture(w, h) {\r\n\t\tconst gl = this.gl;\r\n\r\n\t\tconst texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, w, h, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n\t\treturn texture;\r\n\t}\r\n\r\n\t// update webgl texture\r\n\tupdateTexture(texture, image) {\r\n\t\tconst gl = this.gl;\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, image.width, image.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\r\n\t}\r\n\r\n\t// create webgl texture\r\n\tcreateTexture(image) {\r\n\t\tconst gl = this.gl;\r\n\r\n\t\tconst texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n\t\tif(image) {\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, image.width, image.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\t\t} else {\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, 1, 1, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, new Uint8Array([ 0 ]));\r\n\t\t}\r\n\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n\t\treturn texture;\r\n\t}\r\n\r\n\t// prepare geometry buffers for draw\r\n\tinitializeBuffersAndAttributes(bufferInfo) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst attributes = this.currentShader.attributes;\r\n\r\n\t\t// exit if verts are meptyy\r\n\t\tif(bufferInfo.vertecies.length < 1) return;\r\n\r\n\t\tconst newbuffer = !bufferInfo.indexBuffer || !bufferInfo.vertexBuffer;\r\n\t\t\r\n\t\t// create new buffers\r\n\t\tif(newbuffer) {\r\n\t\t\t// bufferInfo.vao = this.createVAO();\r\n\r\n\t\t\tbufferInfo.indexBuffer = gl.createBuffer();\r\n\t\t\tbufferInfo.vertexBuffer = gl.createBuffer();\r\n\r\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indexBuffer);\r\n\t\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indecies, gl.STATIC_DRAW);\r\n\r\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.vertexBuffer);\r\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, bufferInfo.vertecies, gl.STATIC_DRAW);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indexBuffer);\r\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.vertexBuffer);\r\n\t\t}\r\n\t\t\r\n\t\tconst bpe = bufferInfo.vertecies.BYTES_PER_ELEMENT;\r\n\r\n\t\tlet lastAttrSize = 0;\r\n\r\n\t\tconst bufferAttributes = bufferInfo.attributes;\r\n\r\n\t\tfor(let i = 0; i < bufferInfo.attributes.length; i++) {\r\n\t\t\tgl.vertexAttribPointer(\r\n\t\t\t\tattributes[bufferAttributes[i].attribute], \r\n\t\t\t\tbufferAttributes[i].size,\r\n\t\t\t\tgl.FLOAT, \r\n\t\t\t\tfalse, \r\n\t\t\t\tbufferInfo.elements * bpe, \r\n\t\t\t\tlastAttrSize * bpe\r\n\t\t\t);\r\n\t\t\tgl.enableVertexAttribArray(attributes[bufferAttributes[i].attribute]);\r\n\t\r\n\t\t\tlastAttrSize += bufferAttributes[i].size;\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n","import { GLShader } from './GLShader.js';\r\nimport { Resources } from '../Resources.js';\r\n\r\nResources.add({\r\n    'comp.fs': require('../../res/shader/comp.fragment.shader'),\r\n}, false);\r\n\r\nexport default class FinalShader extends GLShader {\r\n\r\n    static vertexSource() {\r\n        return `#version 300 es\r\n\r\n        layout(location = 0) in vec3 aPosition;\r\n        layout(location = 1) in vec2 aTexCoords;\r\n\r\n        uniform float aspectRatio;\r\n\r\n        out vec2 texCoords;\r\n        \r\n        void main() {\r\n            gl_Position = vec4(aPosition, 1.0);\r\n            texCoords = aTexCoords;\r\n        }`;\r\n    }\r\n\r\n    static fragmentSource() {\r\n        return Resources.get('comp.fs');\r\n    }\r\n\r\n}","import { Resources } from '../Resources.js';\r\nimport { GLShader } from './GLShader.js';\r\n\r\nResources.add({\r\n    'gbuffer.vs': require('../../res/shader/gbuffer.vertex.shader'),\r\n    'color.fs': require('../../res/shader/color.fragment.shader'),\r\n}, false);\r\n\r\nexport default class ColorShader extends GLShader {\r\n\r\n    static vertexSource() {\r\n        return Resources.get('gbuffer.vs');\r\n    }\r\n\r\n    static fragmentSource() {\r\n        return Resources.get('color.fs');\r\n    }\r\n\r\n}","import { Resources } from '../Resources.js';\r\nimport { GLShader } from './GLShader.js';\r\n\r\nResources.add({\r\n    'gbuffer.vs': require('../../res/shader/gbuffer.vertex.shader'),\r\n    'light.fs': require('../../res/shader/light.fragment.shader'),\r\n}, false);\r\n\r\nexport default class LightShader extends GLShader {\r\n\r\n    static vertexSource() {\r\n        return Resources.get('gbuffer.vs');\r\n    }\r\n\r\n    static fragmentSource() {\r\n        return Resources.get('light.fs');\r\n    }\r\n\r\n    _uniform = {\r\n        uAmbientColor: [0.75, 0.75, 0.75],\r\n        shadowcolor: 0.15,\r\n    }\r\n    \r\n}","import { GLShader } from './GLShader.js';\r\n\r\nexport default class ReflectionShader extends GLShader {\r\n\r\n    static vertexSource() {\r\n        return `#version 300 es\r\n\r\n        layout(location = 0) in vec3 aPosition;\r\n        layout(location = 1) in vec2 aTexCoords;\r\n        layout(location = 2) in vec3 aNormal;\r\n        \r\n        struct SceneProjection {\r\n            mat4 model;\r\n            mat4 view;\r\n            mat4 projection;\r\n        };\r\n        \r\n        uniform SceneProjection scene;\r\n        \r\n        out vec2 vTexCoords;\r\n        out vec4 vWorldPos;\r\n        out vec3 vNormal;\r\n        \r\n        void main() {\r\n            vec4 pos = scene.model * vec4(aPosition, 1.0);\r\n            pos.y *= -1.0;\r\n            pos.y += 42.0;\r\n        \r\n            vWorldPos = pos;\r\n            vNormal = aNormal;\r\n            vTexCoords = aTexCoords;\r\n        \r\n            gl_Position = scene.projection * scene.view * vec4(pos.xyz, 1.0);\r\n            gl_PointSize = 5.0;\r\n        }`;\r\n    }\r\n\r\n    static fragmentSource() {\r\n        return `#version 300 es\r\n\r\n        precision mediump float;\r\n\r\n        in vec2 vTexCoords;\r\n        in vec3 vNormal;\r\n\r\n        uniform sampler2D colorTexture;\r\n        uniform sampler2D reflectionMap;\r\n\r\n        uniform float textureScale;\r\n        uniform float transparency;\r\n        uniform vec3 diffuseColor;\r\n\r\n        out vec4 oFragColor;\r\n\r\n        void main() {\r\n            // set diffuse color\r\n            oFragColor = vec4(diffuseColor, 1.0 - transparency);\r\n\r\n            vec2 imageSize = vec2(textureSize(colorTexture, 0));\r\n            if(imageSize.x > 1.0) {\r\n                vec2 textureCoords = vec2(vTexCoords) / (imageSize.x / textureScale);\r\n\r\n                vec4 textureColor = texture(colorTexture, textureCoords);\r\n                oFragColor *= textureColor;\r\n\r\n                float reflectivenss = texture(reflectionMap, textureCoords).r;\r\n                if(reflectivenss > 0.0) {\r\n                    discard;\r\n                }\r\n            }\r\n        }`;\r\n    }\r\n\r\n}","import { GLShader } from './GLShader.js';\r\nimport { Resources } from '../Resources.js';\r\n\r\nexport default class PickingShader extends GLShader {\r\n\r\n    static vertexSource() {\r\n        return Resources.get('gbuffer.vs');\r\n    }\r\n\r\n    static fragmentSource() {\r\n        return `#version 300 es\r\n        \r\n        precision mediump float;\r\n        \r\n        uniform bool selected;\r\n\r\n        in vec3 primitiveColor;\r\n        \r\n        out vec4 oFragColor;\r\n        \r\n        void main () {\r\n            oFragColor = vec4(primitiveColor, .75);\r\n\r\n            if(selected) {\r\n                oFragColor = vec4(0.8, 0.75, 0.5, 1.0);\r\n            }\r\n        }`;\r\n    }\r\n}\r\n","import { Resources } from '../Resources.js';\r\nimport { GLShader } from './GLShader.js';\r\n\r\nexport default class MattShader extends GLShader {\r\n\r\n    static vertexSource() {\r\n        return Resources.get('gbuffer.vs');\r\n    }\r\n\r\n    static fragmentSource() {\r\n        return `#version 300 es\r\n            precision mediump float;\r\n            \r\n            in float id;\r\n            \r\n            out vec4 oFragColor;\r\n            \r\n            void main () {\r\n                float c = id / 255.0;\r\n                oFragColor = vec4(c, c, c, 1.0);\r\n            }\r\n        `;\r\n    }\r\n\r\n}","import { Plane } from '../geo/Plane';\r\nimport { GLContext } from '../renderer/GL';\r\nimport FinalShader from '../shader/FinalShader';\r\nimport ColorShader from '../shader/ColorShader';\r\nimport LightShader from '../shader/LightShader';\r\nimport ReflectionShader from '../shader/ReflectionShader';\r\nimport PrimitiveShader from '../shader/PrimitiveShader';\r\nimport { Logger } from '../Logger';\r\nimport Config from '../Config';\r\nimport { mat4 } from 'gl-matrix';\r\nimport { Vec } from '../Math';\r\nimport MattShader from '../shader/MattShader';\r\n\r\nconst logger = new Logger('Renderer');\r\n\r\nexport class Renderer extends GLContext {\r\n\r\n\tstatic defaults = {\r\n\t\tresolution: [\r\n\t\t\twindow.innerWidth, \r\n\t\t\twindow.innerHeight\r\n\t\t]\r\n\t}\r\n\r\n\tget gridEnabled() {\r\n\t\treturn Config.global.getValue('drawGrid', true);\r\n\t}\r\n\r\n\tget fogEnabled() {\r\n\t\treturn Config.global.getValue('fogEnabled', true);\r\n\t}\r\n\r\n\tsetScene(scene) {\r\n\t\tthis.scene = scene;\r\n\t}\r\n\r\n\tupdateViewport() {\r\n\t\tthis.scene.activeCamera.sensor = {\r\n\t\t\twidth: this.width,\r\n\t\t\theight: this.height\r\n\t\t};\r\n\t\tthis.scene.activeCamera.update();\r\n\t}\r\n\r\n    onCreate() {\r\n\r\n\t\tthis.renderTarget = new Plane({ material: null });\r\n\r\n\t\tthis.setResolution(...Renderer.defaults.resolution);\r\n\r\n\t\tthis.shadowMapSize = 4096;\r\n\r\n\t\tthis.renderPasses = [\r\n\t\t\tnew RenderPass(this, 'shadow', new ColorShader(), this.aspectratio, this.shadowMapSize, true),\r\n\t\t\tnew RenderPass(this, 'light', new LightShader(), this.aspectratio, this.width),\r\n\t\t\t// new RenderPass(this, 'reflection', new ReflectionShader(), this.aspectratio, this.width),\r\n\t\t\tnew RenderPass(this, 'diffuse', new ColorShader(), this.aspectratio, this.width),\r\n\t\t\tnew RenderPass(this, 'guides', new PrimitiveShader(), this.aspectratio, this.width),\r\n\t\t\tnew RenderPass(this, 'id', new MattShader(), this.aspectratio, this.width),\r\n\t\t]\r\n\r\n\t\tthis.compShader = new FinalShader();\r\n\t\tthis.prepareShader(this.compShader);\r\n\r\n\t\tthis.readings = {};\r\n\r\n\t\tlogger.log(`Resolution set to ${this.width}x${this.height}`);\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tif(!this.scene) return;\r\n\r\n\t\tconst frameTime = performance.now();\r\n\r\n\t\t// update animated textures\r\n\t\tfor(let geo of this.scene.objects) {\r\n\t\t\tif(geo.material && geo.material.animated) {\r\n\t\t\t\tthis.updateTexture(geo.material.texture.gltexture, geo.material.texture.image);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.renderMultiPasses(this.renderPasses);\r\n\t\tthis.compositePasses(this.renderPasses);\r\n\r\n\t\tif(this.lastFrameTime) {\r\n\t\t\tthis.frameTime = frameTime - this.lastFrameTime;\r\n\t\t}\r\n\t\tthis.lastFrameTime = frameTime;\r\n\t}\r\n\r\n\trenderMultiPasses(passes) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst camera = this.scene.activeCamera;\r\n\r\n\t\tfor(let pass of passes) {\r\n\t\t\tconst lightS = this.scene.lightSources;\r\n\t\t\tconst cullDefault = gl.isEnabled(gl.CULL_FACE);\r\n\r\n\t\t\tpass.use();\r\n\t\t\t\r\n\t\t\tswitch(pass.id) {\r\n\r\n\t\t\t\tcase \"shadow\":\r\n\t\t\t\t\tthis.drawScene(this.scene, lightS, obj => obj.material && obj.material.castShadows);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"light\":\r\n\t\t\t\t\tthis.useTexture(this.getBufferTexture('shadow'), \"shadowDepthMap\", 0);\r\n\t\t\t\t\tgl.uniformMatrix4fv(pass.shader.uniforms.lightProjViewMatrix, false, lightS.projViewMatrix);\r\n\t\t\t\t\tthis.drawScene(this.scene, camera, obj => {\r\n\t\t\t\t\t\treturn obj.material && obj.material.receiveShadows;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"diffuse\":\r\n\t\t\t\t\tthis.useTexture(this.getBufferTexture('reflection'), \"reflectionBuffer\", 0);\r\n\t\t\t\t\tthis.drawScene(this.scene, camera, obj => !obj.guide);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase \"reflection\":\r\n\t\t\t\t\tgl.cullFace(gl.FRONT);\r\n\t\t\t\t\tthis.drawScene(this.scene, camera);\r\n\t\t\t\t\tgl.cullFace(gl.BACK);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"guides\":\r\n\t\t\t\t\tif(cullDefault) this.disable(gl.CULL_FACE);\r\n\t\t\t\t\tthis.drawScene(this.scene, camera, obj => obj.guide);\r\n\t\t\t\t\tif(cullDefault) this.enable(gl.CULL_FACE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase \"id\":\r\n\t\t\t\t\tif(cullDefault) this.disable(gl.CULL_FACE);\r\n\t\t\t\t\tthis.drawScene(this.scene, camera, obj => {\r\n\t\t\t\t\t\tif(obj.id != null) {\r\n\t\t\t\t\t\t\tthis.gl.uniform1f(pass.shader.uniforms.geoid, obj.id);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.disable(gl.DEPTH_TEST);\r\n\t\t\t\t\tconst curosr = this.scene.curosr;\r\n\t\t\t\t\tthis.gl.uniform1f(pass.shader.uniforms.geoid, curosr.id);\r\n\t\t\t\t\tthis.drawMesh(curosr);\r\n\t\t\t\t\tthis.enable(gl.DEPTH_TEST);\r\n\t\t\t\t\tif(cullDefault) this.enable(gl.CULL_FACE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(pass.id in this.readings) {\r\n\t\t\t\tconst read = this.readings[pass.id];\r\n\t\t\t\tif(!read.value) {\r\n\t\t\t\t\tread.setValue(this.readPixels(read.x, read.y, 1, 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.clearFramebuffer();\r\n\t}\r\n\r\n\treadPixelFromBuffer(x, y, buffer) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.readings[buffer] = {\r\n\t\t\t\tx, y, \r\n\t\t\t\tvalue: null, \r\n\t\t\t\tsetValue(value) {\r\n\t\t\t\t\tthis.value = value;\r\n\t\t\t\t\tresolve(value);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})\r\n\t}\r\n\r\n\treadPixels(x = 0 , y = 0, w = 1, h = 1) {\r\n\t\tconst gl = this.gl;\r\n\t\tconst pixels = new Uint8Array(w * h * 4);\r\n\t\tgl.readPixels(x, y, w, h, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\r\n\t\treturn pixels;\r\n\t}\r\n\r\n\tcompositePasses(passes) {\r\n\t\tthis.gl.clearColor(0.08, 0.08, 0.08, 1.0);\r\n\t\tthis.clear();\r\n\r\n\t\tthis.viewport(this.width, this.height);\r\n\r\n\t\tthis.useShader(this.compShader);\r\n\t\t\t\r\n\t\tfor(let i in passes) {\r\n\t\t\tconst pass = passes[i];\r\n\t\t\tthis.useTexture(pass.buffer, pass.id + \"Buffer\", i);\r\n\t\t}\r\n\t\tthis.useTexture(this.getBufferTexture('depth'), 'depthBuffer', passes.length+1);\r\n\r\n\t\tthis.gl.uniform1i(this.compShader.uniforms.fog, this.fogEnabled);\r\n\r\n\t\tthis.drawGeo(this.renderTarget);\r\n\r\n\t\tthis.gl.clearColor(0, 0, 0, 0);\r\n\t}\r\n\r\n\t// give texture a .gltexture\r\n\tprepareTexture(texture) {\r\n\t\tif(!texture.gltexture) {\r\n\t\t\ttexture.gltexture = this.createTexture(texture.image || null);\r\n\t\t}\r\n\t}\r\n\r\n\t// give material attributes to shader\r\n\tapplyMaterial(shader, material) {\r\n\t\tconst colorTexture = material.texture;\r\n\t\tconst reflectionMap = material.reflectionMap;\r\n\t\tconst displacementMap = material.displacementMap;\r\n\r\n\t\tthis.useTexture(null, \"colorTexture\", 1);\r\n\t\tthis.useTexture(null, \"reflectionMap\", 2);\r\n\t\tthis.useTexture(null, \"displacementMap\", 3);\r\n\r\n\t\tthis.prepareTexture(colorTexture);\r\n\t\tthis.useTexture(colorTexture.gltexture, \"colorTexture\", 1);\r\n\r\n\t\tthis.prepareTexture(reflectionMap);\r\n\t\tthis.useTexture(reflectionMap.gltexture, \"reflectionMap\", 2);\r\n\r\n\t\tthis.prepareTexture(displacementMap);\r\n\t\tthis.useTexture(displacementMap.gltexture, \"displacementMap\", 3);\r\n\r\n\t\tthis.gl.uniform1f(shader.uniforms.textureized, colorTexture.img ? 1 : 0);\r\n\t\tthis.gl.uniform1f(shader.uniforms.selected, material.selected);\r\n\t\tthis.gl.uniform1f(shader.uniforms.scaleUniform, material.scaleUniform);\r\n\t\tthis.gl.uniform1f(shader.uniforms.textureScale, material.textureScale);\r\n\t\tthis.gl.uniform3fv(shader.uniforms.diffuseColor, material.diffuseColor);\r\n\t\tthis.gl.uniform1f(shader.uniforms.reflection, material.reflection);\r\n\t\tthis.gl.uniform1f(shader.uniforms.transparency, material.transparency);\r\n\t}\r\n\r\n\tsetupGemoetry(geo) {\r\n\t\tthis.initializeBuffersAndAttributes(geo.buffer);\r\n\t\t\r\n\t\tgeo.modelMatrix = geo.modelMatrix || mat4.create();\r\n\t\tconst modelMatrix = geo.modelMatrix;\r\n\t\t\r\n\t\tconst position = Vec.add(geo.position, geo.origin);\r\n\t\tconst rotation = geo.rotation;\r\n\t\tconst scale = geo.scale;\r\n\t\t\r\n\t\tmat4.identity(modelMatrix);\r\n\t\t\r\n\t\tmat4.translate(modelMatrix, modelMatrix, position);\r\n\t\t\r\n\t\tmat4.rotateX(modelMatrix, modelMatrix, rotation.x);\r\n\t\tmat4.rotateY(modelMatrix, modelMatrix, rotation.y);\r\n\t\tmat4.rotateZ(modelMatrix, modelMatrix, rotation.z);\r\n\t\t\r\n\t\tmat4.scale(modelMatrix, modelMatrix, new Vec(scale, scale, scale));\r\n\t\t\r\n\t\tconst shader = this.currentShader;\r\n\t\tthis.gl.uniformMatrix4fv(shader.uniforms[\"scene.model\"], false, modelMatrix);\r\n\t}\r\n\r\n\tsetupScene(shader, camera) {\r\n\t\tthis.gl.uniformMatrix4fv(shader.uniforms[\"scene.projection\"], false, camera.projMatrix);\r\n\t\tthis.gl.uniformMatrix4fv(shader.uniforms[\"scene.view\"], false, camera.viewMatrix);\r\n\t}\r\n\r\n\tdrawScene(scene, camera, filter) {\r\n\t\tconst objects = scene.objects;\r\n\t\tconst shader = this.currentShader;\r\n\r\n\t\tthis.setupScene(shader, camera);\r\n\r\n\t\tlet lightCount = 0;\r\n\t\tfor(let light of objects) {\r\n\t\t\tif(light.isLight) {\r\n\t\t\t\tthis.gl.uniform3fv(shader.uniforms[\"pointLights[\"+lightCount+\"].position\"], [\r\n\t\t\t\t\tlight.position.x,\r\n\t\t\t\t\tlight.position.y,\r\n\t\t\t\t\tlight.position.z,\r\n\t\t\t\t]);\r\n\t\t\t\tthis.gl.uniform3fv(shader.uniforms[\"pointLights[\"+lightCount+\"].color\"], light.color);\r\n\t\t\t\tthis.gl.uniform1f(shader.uniforms[\"pointLights[\"+lightCount+\"].intensity\"], light.intensity);\r\n\t\t\t\tthis.gl.uniform1f(shader.uniforms[\"pointLights[\"+lightCount+\"].size\"], light.size);\r\n\t\t\t\tlightCount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(let obj of objects) {\r\n\t\t\tif(filter && filter(obj) || !filter) {\r\n\t\t\t\tthis.drawMesh(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawMesh(geo) {\r\n\t\tif(geo.material) {\r\n\t\t\tthis.applyMaterial(this.currentShader, geo.material);\r\n\r\n\t\t\tif(geo.instanced && !geo.hidden) {\r\n\t\t\t\tthis.drawGeoInstanced(geo);\r\n\t\t\t} else {\r\n\t\t\t\tthis.drawGeo(geo);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawGeoInstanced(geo) {\r\n\t\tif(geo.hidden) return;\r\n\r\n\t\tconst gl = this.gl;\r\n\t\tconst buffer = geo.buffer;\r\n\t\tconst vertCount = buffer.vertecies.length / buffer.elements;\r\n\t\t\r\n\t\tthis.setupGemoetry(geo);\r\n\r\n\t\tgl.drawArraysInstanced(gl[buffer.type], 0, vertCount, geo.instances);\r\n\t}\r\n\r\n\tdrawGeo(geo) {\r\n\t\tif(geo.hidden) return;\r\n\r\n\t\tconst gl = this.gl;\r\n\t\tconst buffer = geo.buffer;\r\n\t\t\r\n\t\tthis.setupGemoetry(geo);\r\n\r\n\t\tif(buffer.indecies.length > 0) {\r\n\t\t\tgl.drawElements(gl[buffer.type], buffer.indecies.length, gl.UNSIGNED_SHORT, 0);\r\n\t\t} else {\r\n\t\t\tgl.drawArrays(gl[buffer.type], 0, buffer.vertecies.length / buffer.elements);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport class RenderPass {\r\n\r\n\tget buffer() {\r\n\t\treturn this.renderer.getBufferTexture(this.id);\r\n\t}\r\n\r\n\tget depthbuffer() {\r\n\t\treturn this.renderer.getBufferTexture(this.id + 'Depth');\r\n\t}\r\n\r\n\tconstructor(renderer, id, shader, ar, resolution, isDepthBuffer) {\r\n\t\tthis.id = id;\r\n\t\tthis.shader = shader;\r\n\t\tthis.renderer = renderer;\r\n\r\n\t\tif(!shader._initialized) {\r\n\t\t\tthis.renderer.prepareShader(shader);\r\n        }\r\n        \r\n\t\tthis.width = resolution;\r\n\t\tthis.height = resolution / ar;\r\n\r\n\t\tif(isDepthBuffer) {\r\n            this.renderer.createFramebuffer(this.id, this.width, this.height).depthbuffer();\r\n        } else {\r\n            this.renderer.createFramebuffer(this.id, this.width, this.height).colorbuffer();\r\n        }\r\n\t}\r\n\r\n\tuse() {\r\n\t\tthis.renderer.useFramebuffer(this.id);\r\n\t\tthis.renderer.clear();\r\n\t\tthis.renderer.viewport(this.width, this.height);\r\n\t\tthis.renderer.useShader(this.shader);\r\n\t}\r\n}\r\n","import { Material } from \"./Material\";\r\n\r\nexport default class PrimitivetMaterial extends Material {\r\n\r\n    name = \"PRIMITIVE\";\r\n    \r\n    constructor() {\r\n        super();\r\n\r\n        this.receiveShadows = false;\r\n        this.castShadows = false;\r\n        this.scaleUniform = true;\r\n\r\n        this.selected = true;\r\n    }\r\n\r\n}\r\n","import PrimitivetMaterial from \"../materials/PrimitiveMaterial\";\r\nimport { Vec } from \"../Math\";\r\nimport { Geometry } from \"../scene/Geometry\";\r\n\r\nconst DEFAULT_GUIDE_MATERIAL = new PrimitivetMaterial();\r\n\r\nexport class Guide extends Geometry {\r\n\r\n\tonCreate(args) {\r\n\t\targs.guide = true;\r\n\t\targs.material = DEFAULT_GUIDE_MATERIAL;\r\n\t\targs.drawmode = \"LINES\";\r\n\t}\r\n\r\n\tget vertecies() {\r\n\t\tconst s = this.scale * 10 || 10;\r\n\t\tconst { x, y, z } = this.origin || new Vec();\r\n\r\n\t\treturn [\r\n\t\t\tx, y, z + s,\t0, 1,\t1, 1, 1,\r\n\t\t\tx, y, z + -s,\t0, 1,\t1, 1, 1,\r\n\t\t\tx, y + s, z,\t0, 1,\t1, 1, 1,\r\n\t\t\tx, y -s, z,\t\t0, 1,\t1, 1, 1,\r\n\t\t\tx + s, y, z,\t0, 1,\t1, 1, 1,\r\n\t\t\tx -s, y, z,\t\t0, 1,\t1, 1, 1\r\n\t\t];\r\n\t}\r\n\r\n}\r\n","import { Guide } from \"./Guide.js\";\r\nimport PrimitivetMaterial from \"../materials/PrimitiveMaterial.js\";\r\n\r\nconst DEFAULT_GRID_MATERIAL = new PrimitivetMaterial();\r\nDEFAULT_GRID_MATERIAL.scaleUniform = false;\r\n\r\nexport class Grid extends Guide {\r\n\r\n\tget vertecies() {\r\n\t\treturn this.generate(this.size, this.count);\r\n\t}\r\n\r\n\tconstructor(size, count) {\r\n\t\tsuper();\r\n\t\tthis.size = size;\r\n\t\tthis.count = count;\r\n\t}\r\n\r\n\tonCreate(args) {\r\n\t\targs.drawmode = \"LINES\";\r\n\t\t// args.guide = true;\r\n\t\targs.material = DEFAULT_GRID_MATERIAL;\r\n\t}\r\n\t\r\n\tgenerate(w = 100, s = 14) {\r\n\t\tconst dataArray = [];\r\n\t\tconst size = w * s / 2;\r\n\t\tfor(let x = -s/2; x <= s/2; x++) {\r\n\t\t\tlet color = [0.5, 0.5, 0.5];\r\n\t\t\tif(x == 0) color = [.15, .15, 1];\r\n\r\n\t\t\tdataArray.push(...[\r\n\t\t\t\tw * x, 0, size, 0,0, ...color,\r\n\t\t\t\tw * x, 0, -size, 0,0, ...color\r\n\t\t\t])\r\n\t\t}\r\n\t\tfor(let z = -s/2; z <= s/2; z++) {\r\n\t\t\tlet color = [0.5, 0.5, 0.5];\r\n\t\t\tif(z == 0) color = [1, .15, .15];\r\n\r\n\t\t\tdataArray.push(...[\r\n\t\t\t\tsize, 0, w * z, 0,0, ...color,\r\n\t\t\t\t-size, 0, w * z, 0,0, ...color\r\n\t\t\t])\r\n\t\t}\r\n\t\treturn dataArray;\r\n\t}\r\n}\r\n","import { mat4, vec3 } from 'gl-matrix';\r\nimport { Camera } from \"../camera/Camera\";\r\n\r\nexport class DirectionalLight extends Camera {\r\n\t\r\n\tget isLight() { return true; }\r\n\r\n\tupdate() {\r\n\t\tconst projMatrix = this.projMatrix;\r\n\t\tconst viewMatrix = this.viewMatrix;\r\n\t\tconst camera = this;\r\n\r\n\t\tconst ar = this.sensor.width / this.sensor.height;\r\n\t\tmat4.perspective(projMatrix, Math.PI / 180 * camera.fov, ar, camera.nearplane, camera.farplane);\r\n\t\tmat4.lookAt(\r\n\t\t\tviewMatrix, \r\n\t\t\tvec3.fromValues(0, 0, 0),\r\n\t\t\tvec3.fromValues(camera.lookAt.x, camera.lookAt.y, camera.lookAt.z), \r\n\t\t\tvec3.fromValues(0, 1, 0)\r\n\t\t);\r\n\r\n\t\tmat4.scale(viewMatrix, viewMatrix, vec3.fromValues(\r\n\t\t\tcamera.scale, \r\n\t\t\tcamera.scale, \r\n\t\t\tcamera.scale,\r\n\t\t));\r\n\r\n\t\tmat4.translate(viewMatrix, viewMatrix, vec3.fromValues(\r\n\t\t\tcamera.position.x,\r\n\t\t\tcamera.position.y,\r\n\t\t\tcamera.position.z,\r\n\t\t));\r\n\r\n\t\tmat4.rotateX(viewMatrix, viewMatrix, Math.PI / 180 * camera.rotation.x);\r\n\t\tmat4.rotateY(viewMatrix, viewMatrix, Math.PI / 180 * camera.rotation.y);\r\n\t\t\r\n\t\tmat4.multiply(this.projViewMatrix, this.projMatrix, this.viewMatrix);\r\n\t}\r\n\r\n}\r\n","import { Vec } from \"../Math\";\r\nimport { Guide } from \"./Guide\";\r\nimport { Loader } from \"../Loader\";\r\nimport { Resources } from \"../Resources\";\r\n\r\nResources.add({\r\n    'cursor_model': require('../../res/models/cursor.obj'),\r\n}, false);\r\n\r\nexport class Cursor extends Guide {\r\n\r\n\tonCreate(args) {\r\n\t\tsuper.onCreate(args);\r\n\t\targs.drawmode = \"TRIANGLES\";\r\n\t\targs.id = 1;\r\n\t\tthis.scale = 32;\r\n\r\n\t\tthis.cursorVerts = Loader.loadObjFile(Resources.get('cursor_model'));\r\n\t}\r\n\r\n\tget vertecies() {\r\n\t\tconst s = 0.75;\r\n\r\n\t\tlet { x, y, z } = new Vec();\r\n\r\n\t\treturn [\r\n\t\t\tx + s, y, z,\t0, 0,\t0, 0, 1,\r\n\t\t\tx, y, z + s,\t0, 0,\t0, 0, 1,\r\n\t\t\tx, y, z,\t\t0, 0,\t0, 0, 1,\r\n\r\n\t\t\tx, y, z + s,\t0, 0,\t0, 1, 0,\r\n\t\t\tx, y + s, z,\t0, 0,\t0, 1, 0,\r\n\t\t\tx, y, z,\t\t0, 0,\t0, 1, 0,\r\n\t\t\t\r\n\t\t\tx, y, z,\t\t0, 0,\t1, 0, 0,\r\n\t\t\tx, y + s, z,\t0, 0,\t1, 0, 0,\r\n\t\t\tx + s, y, z,\t0, 0,\t1, 0, 0,\r\n\r\n\t\t\t...this.cursorVerts\r\n\t\t];\r\n\t}\r\n\r\n}\r\n","import { Grid } from '../geo/Grid.js';\r\nimport { DirectionalLight } from '../light/DirectionalLight';\r\nimport { Vec } from '../Math.js';\r\nimport { Cursor } from '../geo/Cursor';\r\n\r\nexport class Scene {\r\n\r\n\t_objects = new Set();\r\n\r\n\tget objects() { return this._objects; }\r\n\r\n\tconstructor({ camera } = {}) {\r\n\t\tthis.lightSources = new DirectionalLight({ \r\n            fov: 90,\r\n            position: new Vec(1000, -3000, -10000),\r\n\t\t\trotation: new Vec(20, 20, 0),\r\n\t\t});\r\n\t\t\r\n\t\tthis.activeCamera = camera;\r\n\r\n\t\tthis.grid = new Grid(100, 20);\r\n\t\tthis.curosr = new Cursor();\r\n\r\n\t\tthis.clear();\r\n\t}\r\n\r\n\tadd(obj) {\r\n\t\tif(Array.isArray(obj)) {\r\n\t\t\tobj.forEach(o => this._objects.add(o));\r\n\t\t} else {\r\n\t\t\tthis._objects.add(obj);\r\n\t\t}\r\n\t}\r\n\r\n\tremove(obj) {\r\n\t\tif(Array.isArray(obj)) {\r\n\t\t\tobj.forEach(o => this._objects.delete(o));\r\n\t\t} else {\r\n\t\t\tthis._objects.delete(obj);\r\n\t\t}\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis._objects.clear();\r\n\t\tthis.add(this.grid);\r\n\t\tthis.add(this.curosr);\r\n\t}\r\n\r\n\tupdate(ms) {\r\n\t\tthis.activeCamera.update();\r\n\r\n\t\tfor(let obj of this._objects) {\r\n\t\t\tif(obj.update) {\r\n\t\t\t\tobj.update(ms);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { EntityControler } from \"./EntityControler\";\r\nimport { Vec, Raycast } from \"../Math\";\r\nimport DefaultMaterial from \"../materials/DefaultMaterial\";\r\nimport PrimitivetMaterial from \"../materials/PrimitiveMaterial\";\r\n\r\nexport class CursorControler extends EntityControler {\r\n\r\n    lastAction = {\r\n        target: null,\r\n        state: null,\r\n        property: null\r\n    }\r\n\r\n\tinitMouse() {\r\n        const curosr = this.entity;\r\n        const renderer = this.viewport.renderer;\r\n        const camera = this.viewport.camera;\r\n        const scene = this.viewport.scene;\r\n\r\n        let moving = false;\r\n        let hovering = false;\r\n        let selected = null;\r\n        \r\n\t\tconst down = e => {\r\n            if(hovering) {\r\n                this.interaction(selected);\r\n                moving = selected == 1;\r\n\r\n                if(!moving) {\r\n                    for(let obj of scene.objects) {\r\n                        if(obj.id == selected) {\r\n                            this.viewport.setCursor(obj);\r\n                \r\n                            this.lastAction.target = curosr;\r\n                            this.lastAction.property = 'position';\r\n                            this.lastAction.state = new Vec(curosr.position);\r\n\r\n                            this.interaction(selected);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n\t\tconst up = e => {\r\n\t\t\tmoving = false;\r\n        }\r\n        \r\n        let startdelta = null;\r\n\r\n\t\tconst move = e => {\r\n            test(e);\r\n\r\n\t\t\tif(moving) {\r\n                const pos = Vec.multiply(curosr.position, new Vec(-1, -1, 1));\r\n                const hitx = new Raycast(camera, e.x, e.y).hit(pos, new Vec(0, 1, 0)) ||\r\n                             new Raycast(camera, e.x, e.y).hit(pos, new Vec(0, -1, 0));\r\n\r\n                const hity = new Raycast(camera, e.x, e.y).hit(pos, new Vec(1, 0, 0)) ||\r\n                             new Raycast(camera, e.x, e.y).hit(pos, new Vec(-1, 0, 0));\r\n\r\n                if(!startdelta) {\r\n                    startdelta = new Vec(\r\n                        hitx.position[0] - curosr.position[0],\r\n                        hity.position[1] - curosr.position[1],\r\n                        hitx.position[2] - curosr.position[2],\r\n                    );\r\n                } else {\r\n                    const axis = startdelta.indexOf(Math.max(...startdelta));\r\n                    if(axis == 1) {\r\n                        curosr.position[axis] = hity.position[axis] - startdelta[axis];\r\n                    } else {\r\n                        curosr.position[axis] = hitx.position[axis] - startdelta[axis];\r\n                    }\r\n                }\r\n            } else {\r\n                startdelta = null;\r\n            }\r\n        }\r\n\r\n        const test = e => {\r\n            const x = e.x;\r\n            const y = this.viewport.renderer.height - e.y;\r\n\r\n            hovering = false;\r\n\r\n            if(!moving) {\r\n                renderer.readPixelFromBuffer(x, y, 'id').then(value => {\r\n                    selected = value[0];\r\n                    hovering = selected == 1;\r\n                    this.entity.material.selected = hovering;\r\n                })\r\n            } else {\r\n                this.entity.material.selected = true;\r\n            }\r\n        }\r\n        \r\n        const keydown = (e) => {\r\n            if(e.ctrlKey)\r\n\r\n            switch(e.key) {\r\n                case \"z\":\r\n                    this.undo();\r\n                    break;\r\n            }\r\n        }\r\n\r\n\t\tthis.viewport.addEventListener(\"contextmenu\", e => e.preventDefault());\r\n\t\tthis.viewport.addEventListener(\"mousedown\", e => {\r\n            if(EntityControler.isMouseButton(e) == 1) {\r\n                down(e);\r\n            }\r\n        });\r\n\t\tthis.viewport.addEventListener(\"mouseup\", up);\r\n        this.viewport.addEventListener(\"mousemove\", move);\r\n        \r\n\t\twindow.addEventListener(\"keydown\", keydown);\r\n    }\r\n\r\n    undo() {\r\n        const action = this.lastAction;\r\n\r\n        action.target[action.property][0] = action.state.x;\r\n        action.target[action.property][1] = action.state.y;\r\n        action.target[action.property][2] = action.state.z;\r\n    }\r\n    \r\n    interaction(objId) {\r\n\r\n    }\r\n\r\n}\r\n","import { FirstPersonCamera } from \"./src/camera/FirstPersonCamera\";\r\nimport { FirstPersonControler } from \"./src/controlers/FirstPersonControler\";\r\nimport { Loader } from './src/Loader.js';\r\nimport { Logger } from './src/Logger.js';\r\nimport { Renderer } from \"./src/renderer/Renderer\";\r\nimport { Resources } from \"./src/Resources.js\";\r\nimport { Scene } from \"./src/scene/Scene.js\";\r\nimport { Vec } from \"./src/Math\";\r\nimport { Scheduler } from \"./src/Scheduler\";\r\nimport { CursorControler } from \"./src/controlers/CursorController\";\r\n\r\nconst logger = new Logger('Viewport');\r\n\r\nlet nextFrame = 0, \r\n    lastFrame = 0, \r\n    accumulator = 0,\r\n    tickrate = 128;\r\n\r\nexport default class Viewport extends HTMLElement {\r\n\r\n    get frameRate() {\r\n\t\treturn 1000 / this.renderer.frameTime;\r\n\t}\r\n\r\n    static get template() {\r\n        return `\r\n            <style>\r\n                :host {\r\n                    display: block;\r\n                }\r\n                canvas {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            </style>\r\n        `;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.attachShadow({ mode: 'open' });\r\n        this.root = this.shadowRoot;\r\n\r\n        this.root.innerHTML = this.constructor.template;\r\n\r\n        this.canvas = document.createElement('canvas');\r\n        this.root.appendChild(this.canvas);\r\n\r\n        this.lastFrame = {};\r\n    }\r\n\r\n    connectedCallback() {\r\n        Resources.load().then(() => {\r\n            logger.log(\"resources loaded\");\r\n            this.init(this.canvas);\r\n\r\n            logger.log(\"resources initialized\");\r\n            this.render();\r\n        });\r\n    }\r\n\r\n    onRender() {\r\n        const width = this.canvas.clientWidth;\r\n        const height = this.canvas.clientHeight;\r\n\r\n        if (width != this.lastFrame.width ||\r\n            height != this.lastFrame.height) {\r\n\r\n            this.renderer.setResolution(width, height);\r\n            this.renderer.updateViewport();\r\n        }\r\n\r\n        this.lastFrame.width = width;\r\n        this.lastFrame.height = height;\r\n    }\r\n\r\n    render() {\r\n        this.onRender();\r\n\r\n        const currentFrame = performance.now();\r\n        const delta = currentFrame - lastFrame;\r\n\r\n        accumulator += delta;\r\n        if(accumulator >= (1000 / tickrate)) {\r\n            accumulator = 0;\r\n            \r\n            this.scheduler.run(delta);\r\n            this.scene.update(delta);\r\n        }\r\n        this.renderer.draw();\r\n        \r\n        lastFrame = currentFrame;\r\n        nextFrame = requestAnimationFrame(this.render.bind(this));\r\n    }\r\n\r\n    init(canvas) {\r\n        const mats = Resources.get('materials');\r\n        for(let name in mats) {\r\n            Loader.createMatFromJson(name, mats[name]);\r\n        }\r\n\r\n        this.scheduler = new Scheduler();\r\n\r\n        this.renderer = new Renderer(canvas);\r\n\r\n        this.camera = new FirstPersonCamera({ \r\n            fov: 90,\r\n            position: new Vec(0, -400, -2500),\r\n            rotation: new Vec(15, 0, 0),\r\n        });\r\n\r\n        const controler = new FirstPersonControler(this.camera, canvas);\r\n\r\n        this.createScene();\r\n\r\n        const cursorControler = new CursorControler(this.scene.curosr, this);\r\n        cursorControler.interaction = objID => {\r\n            if(objID != 0) {\r\n                controler.lock();\r\n            } else {\r\n                controler.unlock();\r\n            }\r\n        }\r\n\r\n        this.dispatchEvent(new Event('load'));\r\n\r\n        this.setCursor([...this.scene.objects][this.scene.objects.size-1]);\r\n    }\r\n\r\n    setCursor(obj) {\r\n        if(obj) {\r\n            this.scene.curosr.hidden = false;\r\n            this.scene.curosr.position = new Vec(obj.position);\r\n            obj.position = this.scene.curosr.position;\r\n        } else {\r\n            this.scene.curosr.hidden = true;\r\n        }\r\n    }\r\n\r\n    createScene() {\r\n        const scene = new Scene({\r\n            camera: this.camera,\r\n        });\r\n\r\n        this.scene = scene;\r\n        this.renderer.setScene(scene);\r\n\r\n        return scene;\r\n    }\r\n\r\n}\r\n\r\ncustomElements.define('gl-viewport', Viewport);\r\n\r\nmodule.exports = Viewport;\r\n","import Config from \"../../src/Config.js\";\r\nimport { Loader } from \"../../src/Loader.js\";\r\nimport TestMaterial from \"../../src/materials/TestMaterial.js\";\r\nimport { Transform } from \"../../src/Math.js\";\r\nimport { Resources } from \"../../src/Resources.js\";\r\nimport { Geometry } from \"../../src/scene/Geometry.js\";\r\nimport { Task } from \"../../src/Scheduler.js\";\r\nimport Viewport from \"../../Viewport.js\";\r\n\r\nconst viewport = new Viewport();\r\n\r\nResources.add({\r\n    'box_model': require('../../res/models/dota2.obj'),\r\n}, false);\r\n\r\nviewport.onload = () => {\r\n\r\n    const scheduler = viewport.scheduler;\r\n    const scene = viewport.scene;\r\n\r\n    const meshVerts = Loader.loadObjFile(Resources.get('box_model'));\r\n    const mesh = new Geometry({\r\n        vertecies: meshVerts,\r\n        material: new TestMaterial(),\r\n        id: 10,\r\n    });\r\n    scene.add(mesh);\r\n\r\n    const camera = viewport.camera;\r\n\r\n    const savedPosition = Config.global.getValue('camera');\r\n    if(savedPosition) {\r\n        camera.setPositionTo(new Transform(savedPosition));\r\n    }\r\n\r\n    const configTask = new Task();\r\n    configTask.execute = (ms) => {\r\n        Config.global.setValue('camera', camera);\r\n        campos.innerText = camera.position + \"  |  \" + camera.rotation;\r\n        return false;\r\n    }\r\n    scheduler.addTask(configTask);\r\n}\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    document.body.appendChild(viewport);\r\n});\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}